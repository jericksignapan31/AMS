import{a as lt,b as k}from"./chunk-7VYTFUIN.js";import{$ as Te,A as Ut,F as fe,G as he,H as xe,I as be,L as ve,M as ye,R as Se,U as we,V as Ee,X as Qt,Y as Ie,Z as Me,aa as De,ba as qe,ca as Re,da as Ve,ea as ke,fa as Ae,ga as Xe,ha as Pe,ma as jt,na as Be,v as K,w as _e,x as ge,y as Ce,z as Ot}from"./chunk-5M6DCCKF.js";import{Db as Lt,Eb as ce,Hb as Z,Ia as at,Ib as de,Ja as ne,Ka as V,Nb as me,Oa as B,Ob as ue,Ra as Bt,Sa as re,Ta as Ye,Ua as st,Z as Le,_a as Nt,a as Ge,b as qt,c as G,d as Rt,db as oe,e as Vt,fb as ae,g as kt,gb as se,hb as Je,i as At,ib as le,jb as pe,kb as Wt,l as O,lb as Ft,q as Ze,sa as ot,sb as Oe}from"./chunk-TVM6ALZD.js";import{$ as gt,$b as R,$c as Ke,Ab as u,Ac as S,Bb as r,Cb as n,Db as g,Eb as I,Fb as w,Jb as ze,Kb as y,Ob as b,Pa as ft,Pb as c,Qa as Fe,Qb as yt,Rb as St,Sb as L,Sc as P,Ta as p,Tb as Y,Tc as Dt,Ub as T,Vb as D,Y as te,Ya as He,Yb as J,Yc as Pt,Z as _t,Za as ht,Zb as wt,Zc as tt,a as H,aa as Qe,ac as X,b as $e,ba as je,bc as a,bd as it,cb as q,cc as Q,cd as nt,dc as v,e as et,ed as rt,ga as d,gc as f,ha as m,hb as F,hc as h,ib as xt,ic as x,lb as bt,lc as z,mb as vt,mc as M,nb as C,nc as Et,oc as $,pa as ie,pc as It,ua as Ct,vb as N,wb as W,wc as Mt,xc as Tt}from"./chunk-ZDEZPEUG.js";var Ht=class o{static \u0275fac=function(e){return new(e||o)};static \u0275cmp=F({type:o,selectors:[["app-documentation"]],decls:68,vars:0,consts:[[1,"card"],[1,"font-semibold","text-2xl","mb-4"],[1,"font-semibold","text-xl","mb-4"],[1,"text-lg","mb-4"],[1,"app-code"],[1,"bg-highlight","px-2","py-1","rounded-border","not-italic","text-base"],[1,"leading-normal","list-disc","pl-8","text-lg","mb-4"],[1,"text-primary","font-medium"]],template:function(e,l){e&1&&(I(0,"div",0)(1,"div",1),a(2,"Documentation"),w(),I(3,"div",2),a(4,"Get Started"),w(),I(5,"p",3),a(6,"Sakai is an application template for Angular and is distributed as a CLI project. Current versions is Angular v20 with PrimeNG v20. In case CLI is not installed already, use the command below to set it up."),w(),I(7,"pre",4)(8,"code"),a(9,"npm install -g @angular/cli"),w()(),I(10,"p",3),a(11,' Once CLI is ready in your system, extract the contents of the zip file distribution, cd to the directory, install the libraries from npm and then execute "ng serve" to run the application in your local environment. '),w(),I(12,"pre",4)(13,"code"),a(14,`git clone https://github.com/primefaces/sakai-ng
npm install
ng serve`),w()(),I(15,"p",3),a(16,"The application should run at "),I(17,"i",5),a(18,"http://localhost:4200/"),w(),a(19," to view the application in your local environment."),w(),I(20,"div",2),a(21,"Structure"),w(),I(22,"p",3),a(23,"Templates consists of a couple folders, demos and layout have been separated so that you can easily identify what is necessary for your application."),w(),I(24,"ul",6)(25,"li")(26,"span",7),a(27,"src/app/layout"),w(),a(28,": Main layout files, needs to be present."),w(),I(29,"li")(30,"span",7),a(31,"src/app/pages"),w(),a(32,": Demo content like Dashboard."),w(),I(33,"li")(34,"span",7),a(35,"src/assets/demo"),w(),a(36,": Assets used in demos"),w(),I(37,"li")(38,"span",7),a(39,"src/assets/layout"),w(),a(40,": SCSS files of the main layout"),w()(),I(41,"div",2),a(42,"Menu"),w(),I(43,"p",3),a(44," Main menu is defined at "),I(45,"span",5),a(46,"src/app/layout/component/app.menu.ts"),w(),a(47," file. Update the "),I(48,"i",5),a(49,"model"),w(),a(50," property to define your own menu items. "),w(),I(51,"div",2),a(52,"Layout Service"),w(),I(53,"p",3)(54,"span",5),a(55,"src/app/layout/service/layout.service.ts"),w(),a(56," is a service that manages layout state changes, including dark mode, PrimeNG theme, menu modes, and states. "),w(),I(57,"div",2),a(58,"Tailwind CSS"),w(),I(59,"p",3),a(60,"The demo pages are developed with Tailwind CSS however the core application shell uses custom CSS."),w(),I(61,"div",2),a(62,"Variables"),w(),I(63,"p",3),a(64," CSS variables used in the template are derived from the applied PrimeNG theme. Customize them through the CSS variables in "),I(65,"span",5),a(66,"src/assets/layout/variables"),w(),a(67,". "),w()())},dependencies:[O],styles:["@media screen and (max-width: 991px){.video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-bottom:56.25%}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}}"]})};var zt=`
    .p-confirmdialog .p-dialog-content {
        display: flex;
        align-items: center;
        gap: dt('confirmdialog.content.gap');
    }

    .p-confirmdialog-icon {
        color: dt('confirmdialog.icon.color');
        font-size: dt('confirmdialog.icon.size');
        width: dt('confirmdialog.icon.size');
        height: dt('confirmdialog.icon.size');
    }
`;var _i=["header"],gi=["footer"],Ci=["rejecticon"],fi=["accepticon"],hi=["message"],xi=["icon"],bi=["headless"],vi=[[["p-footer"]]],yi=["p-footer"],Si=(o,i,e)=>({$implicit:o,onAccept:i,onReject:e}),wi=o=>({$implicit:o});function Ei(o,i){o&1&&ze(0)}function Ii(o,i){if(o&1&&C(0,Ei,1,0,"ng-container",7),o&2){let e=c(2);u("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)("ngTemplateOutletContext",It(2,Si,e.confirmation,e.onAccept.bind(e),e.onReject.bind(e)))}}function Mi(o,i){o&1&&C(0,Ii,1,6,"ng-template",null,2,S)}function Ti(o,i){o&1&&ze(0)}function Di(o,i){if(o&1&&C(0,Ti,1,0,"ng-container",8),o&2){let e=c(3);u("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function qi(o,i){o&1&&C(0,Di,1,1,"ng-template",null,4,S)}function Ri(o,i){}function Vi(o,i){o&1&&C(0,Ri,0,0,"ng-template")}function ki(o,i){if(o&1&&C(0,Vi,1,0,null,8),o&2){let e=c(3);u("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)}}function Ai(o,i){if(o&1&&g(0,"i",12),o&2){let e=c(4);X(e.option("icon")),u("ngClass",e.cx("icon"))("pBind",e.ptm("icon"))}}function Pi(o,i){if(o&1&&C(0,Ai,1,4,"i",11),o&2){let e=c(3);u("ngIf",e.option("icon"))}}function Bi(o,i){}function Ni(o,i){o&1&&C(0,Bi,0,0,"ng-template")}function Wi(o,i){if(o&1&&C(0,Ni,1,0,null,7),o&2){let e=c(3);u("ngTemplateOutlet",e.messageTemplate||e._messageTemplate)("ngTemplateOutletContext",Et(2,wi,e.confirmation))}}function Fi(o,i){if(o&1&&g(0,"span",13),o&2){let e=c(3);X(e.cx("message")),u("pBind",e.ptm("message"))("innerHTML",e.option("message"),ft)}}function Li(o,i){if(o&1&&(N(0,ki,1,1)(1,Pi,1,1,"i",9),N(2,Wi,1,4)(3,Fi,1,4,"span",10)),o&2){let e=c(2);W(e.iconTemplate||e._iconTemplate?0:!e.iconTemplate&&!e._iconTemplate&&!e._messageTemplate&&!e.messageTemplate?1:-1),p(2),W(e.messageTemplate||e._messageTemplate?2:3)}}function Oi(o,i){if(o&1&&(N(0,qi,2,0),C(1,Li,4,2,"ng-template",null,3,S)),o&2){let e=c();W(e.headerTemplate||e._headerTemplate?0:-1)}}function Ui(o,i){o&1&&ze(0)}function Qi(o,i){if(o&1&&(St(0),C(1,Ui,1,0,"ng-container",8)),o&2){let e=c(2);p(),u("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function ji(o,i){if(o&1&&g(0,"i",18),o&2){let e=c(6);X(e.option("rejectIcon")),u("pBind",e.ptm("pcRejectButton").icon)}}function Hi(o,i){if(o&1&&C(0,ji,1,3,"i",17),o&2){let e=c(5);u("ngIf",e.option("rejectIcon"))}}function zi(o,i){}function Gi(o,i){o&1&&C(0,zi,0,0,"ng-template")}function Zi(o,i){if(o&1&&(N(0,Hi,1,1,"i",16),C(1,Gi,1,0,null,8)),o&2){let e=c(4);W(e.rejectIcon&&!e.rejectIconTemplate&&!e._rejectIconTemplate?0:-1),p(),u("ngTemplateOutlet",e.rejectIconTemplate||e._rejectIconTemplate)}}function Ki(o,i){if(o&1){let e=y();r(0,"p-button",15),b("onClick",function(){d(e);let t=c(3);return m(t.onReject())}),C(1,Zi,2,2,"ng-template",null,5,S),n()}if(o&2){let e=c(3);u("pt",e.ptm("pcRejectButton"))("label",e.rejectButtonLabel)("styleClass",e.getButtonStyleClass("pcRejectButton","rejectButtonStyleClass"))("ariaLabel",e.option("rejectButtonProps","ariaLabel"))("buttonProps",e.getRejectButtonProps())}}function Yi(o,i){if(o&1&&g(0,"i",18),o&2){let e=c(6);X(e.option("acceptIcon")),u("pBind",e.ptm("pcAcceptButton").icon)}}function Ji(o,i){if(o&1&&C(0,Yi,1,3,"i",17),o&2){let e=c(5);u("ngIf",e.option("acceptIcon"))}}function Xi(o,i){}function $i(o,i){o&1&&C(0,Xi,0,0,"ng-template")}function en(o,i){if(o&1&&(N(0,Ji,1,1,"i",16),C(1,$i,1,0,null,8)),o&2){let e=c(4);W(e.acceptIcon&&!e._acceptIconTemplate&&!e.acceptIconTemplate?0:-1),p(),u("ngTemplateOutlet",e.acceptIconTemplate||e._acceptIconTemplate)}}function tn(o,i){if(o&1){let e=y();r(0,"p-button",15),b("onClick",function(){d(e);let t=c(3);return m(t.onAccept())}),C(1,en,2,2,"ng-template",null,5,S),n()}if(o&2){let e=c(3);u("pt",e.ptm("pcAcceptButton"))("label",e.acceptButtonLabel)("styleClass",e.getButtonStyleClass("pcAcceptButton","acceptButtonStyleClass"))("ariaLabel",e.option("acceptButtonProps","ariaLabel"))("buttonProps",e.getAcceptButtonProps())}}function nn(o,i){if(o&1&&C(0,Ki,3,5,"p-button",14)(1,tn,3,5,"p-button",14),o&2){let e=c(2);u("ngIf",e.option("rejectVisible")),p(),u("ngIf",e.option("acceptVisible"))}}function rn(o,i){if(o&1&&(N(0,Qi,2,1),N(1,nn,2,2)),o&2){let e=c();W(e.footerTemplate||e._footerTemplate?0:-1),p(),W(!e.footerTemplate&&!e._footerTemplate?1:-1)}}var on={root:"p-confirmdialog",icon:"p-confirmdialog-icon",message:"p-confirmdialog-message",pcRejectButton:"p-confirmdialog-reject-button",pcAcceptButton:"p-confirmdialog-accept-button"},Gt=(()=>{class o extends Nt{name="confirmdialog";style=zt;classes=on;static \u0275fac=(()=>{let e;return function(t){return(e||(e=Ct(o)))(t||o)}})();static \u0275prov=te({token:o,factory:o.\u0275fac})}return o})();var Zt=new gt("CONFIRMDIALOG_INSTANCE"),an=nt([Ke({transform:"{{transform}}",opacity:0}),tt("{{transition}}",Ke({transform:"none",opacity:1}))]),sn=nt([tt("{{transition}}",Ke({transform:"{{transform}}",opacity:0}))]),ee=(()=>{class o extends Ft{confirmationService;zone;$pcConfirmDialog=je(Zt,{optional:!0,skipSelf:!0})??void 0;bindDirectiveInstance=je(Oe,{self:!0});onAfterViewChecked(){this.bindDirectiveInstance.setAttrs(this.ptm("host"))}header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo="body";key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;modal=!0;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}draggable=!0;onHide=new He;footer;_componentStyle=je(Gt);headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;templates;_headerTemplate;_footerTemplate;_rejectIconTemplate;_acceptIconTemplate;_messageTemplate;_iconTemplate;_headlessTemplate;confirmation;_visible;_style;maskVisible;dialog;wrapper;contentContainer;subscription;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=at("pn_id_");ariaLabelledBy=this.getAriaLabelledBy();translationSubscription;constructor(e,l){super(),this.confirmationService=e,this.zone=l,this.subscription=this.confirmationService.requireConfirmation$.subscribe(t=>{if(!t){this.hide();return}t.key===this.key&&(this.confirmation=t,Object.keys(t).forEach(_=>{this[_]=t[_]}),this.confirmation.accept&&(this.confirmation.acceptEvent=new He,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new He,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}onInit(){this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}onAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"message":this._messageTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"rejecticon":this._rejectIconTemplate=e.template;break;case"accepticon":this._acceptIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break}})}getAriaLabelledBy(){return this.header!==null?at("pn_id_")+"_header":null}option(e,l){let t=this;if(t.hasOwnProperty(e))return l?t[l]:t[e]}getButtonStyleClass(e,l){let t=this.cx(e),s=this.option(l);return[t,s].filter(Boolean).join(" ")}getElementToFocus(){if(this.dialog?.el?.nativeElement)switch(this.option("defaultFocus")){case"accept":return Le(this.dialog.el.nativeElement,".p-confirm-dialog-accept");case"reject":return Le(this.dialog.el.nativeElement,".p-confirm-dialog-reject");case"close":return Le(this.dialog.el.nativeElement,".p-dialog-header-close");case"none":return null;default:return Le(this.dialog.el.nativeElement,".p-confirm-dialog-accept")}}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",ot(this.styleElement,"nonce",this.config?.csp()?.nonce),this.document.head.appendChild(this.styleElement);let e="";for(let l in this.breakpoints)e+=`
                    @media screen and (max-width: ${l}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[l]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e,ot(this.styleElement,"nonce",this.config?.csp()?.nonce)}}close(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(ne.CANCEL),this.hide(ne.CANCEL)}hide(e){this.onHide.emit(e),this.visible=!1,this.unsubscribeConfirmationEvents(),this.confirmation=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}onDestroy(){this.subscription.unsubscribe(),this.unsubscribeConfirmationEvents(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle()}onVisibleChange(e){e?this.visible=e:this.close()}onAccept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(ne.ACCEPT)}onReject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(ne.REJECT),this.hide(ne.REJECT)}unsubscribeConfirmationEvents(){this.confirmation&&(this.confirmation.acceptEvent?.unsubscribe(),this.confirmation.rejectEvent?.unsubscribe())}get acceptButtonLabel(){return this.option("acceptLabel")||this.getAcceptButtonProps()?.label||this.config.getTranslation(st.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.getRejectButtonProps()?.label||this.config.getTranslation(st.REJECT)}getAcceptButtonProps(){return this.option("acceptButtonProps")}getRejectButtonProps(){return this.option("rejectButtonProps")}static \u0275fac=function(l){return new(l||o)(q(V),q(ht))};static \u0275cmp=F({type:o,selectors:[["p-confirmDialog"],["p-confirmdialog"],["p-confirm-dialog"]],contentQueries:function(l,t,s){if(l&1&&(L(s,Bt,5),L(s,_i,4),L(s,gi,4),L(s,Ci,4),L(s,fi,4),L(s,hi,4),L(s,xi,4),L(s,bi,4),L(s,re,4)),l&2){let _;T(_=D())&&(t.footer=_.first),T(_=D())&&(t.headerTemplate=_.first),T(_=D())&&(t.footerTemplate=_.first),T(_=D())&&(t.rejectIconTemplate=_.first),T(_=D())&&(t.acceptIconTemplate=_.first),T(_=D())&&(t.messageTemplate=_.first),T(_=D())&&(t.iconTemplate=_.first),T(_=D())&&(t.headlessTemplate=_.first),T(_=D())&&(t.templates=_)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",P],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",P],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",P],dismissableMask:[2,"dismissableMask","dismissableMask",P],blockScroll:[2,"blockScroll","blockScroll",P],rtl:[2,"rtl","rtl",P],closable:[2,"closable","closable",P],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",P],baseZIndex:[2,"baseZIndex","baseZIndex",Dt],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",P],defaultFocus:"defaultFocus",breakpoints:"breakpoints",modal:[2,"modal","modal",P],visible:"visible",position:"position",draggable:[2,"draggable","draggable",P]},outputs:{onHide:"onHide"},features:[z([Gt,{provide:Zt,useExisting:o},{provide:Wt,useExisting:o}]),vt([Oe]),bt],ngContentSelectors:yi,decls:6,vars:18,consts:[["dialog",""],["footer",""],["headless",""],["content",""],["header",""],["icon",""],["role","alertdialog",3,"visibleChange","pt","visible","closable","styleClass","modal","header","closeOnEscape","blockScroll","appendTo","position","dismissableMask","draggable","baseZIndex","autoZIndex","maskStyleClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[3,"ngClass","class","pBind"],[3,"class","pBind","innerHTML"],[3,"ngClass","class","pBind",4,"ngIf"],[3,"ngClass","pBind"],[3,"pBind","innerHTML"],[3,"pt","label","styleClass","ariaLabel","buttonProps","onClick",4,"ngIf"],[3,"onClick","pt","label","styleClass","ariaLabel","buttonProps"],[3,"class","pBind"],[3,"class","pBind",4,"ngIf"],[3,"pBind"]],template:function(l,t){if(l&1){let s=y();yt(vi),r(0,"p-dialog",6,0),b("visibleChange",function(Ue){return d(s),m(t.onVisibleChange(Ue))}),N(2,Mi,2,0)(3,Oi,3,1),C(4,rn,2,2,"ng-template",null,1,S),n()}l&2&&(R(t.style),u("pt",t.pt)("visible",t.visible)("closable",t.option("closable"))("styleClass",t.cn(t.cx("root"),t.styleClass))("modal",t.option("modal"))("header",t.option("header"))("closeOnEscape",t.option("closeOnEscape"))("blockScroll",t.option("blockScroll"))("appendTo",t.option("appendTo"))("position",t.position)("dismissableMask",t.dismissableMask)("draggable",t.draggable)("baseZIndex",t.baseZIndex)("autoZIndex",t.autoZIndex)("maskStyleClass",t.cn(t.cx("mask"),t.maskStyleClass)),p(2),W(t.headlessTemplate||t._headlessTemplate?2:3))},dependencies:[O,Ge,G,kt,Z,K,Ye,Oe],encapsulation:2,data:{animation:[Pt("animation",[it("void => visible",[rt(an)]),it("visible => void",[rt(sn)])])]},changeDetection:0})}return o})(),We=(()=>{class o{static \u0275fac=function(l){return new(l||o)};static \u0275mod=xt({type:o});static \u0275inj=_t({imports:[ee,Ye,Ye]})}return o})();var A=class o{constructor(i){this.http=i}apiUrl=`${k.apiUrl}/assets`;baseApiUrl=k.apiUrl;getAssets(){return this.http.get(this.apiUrl)}getAsset(i){return this.http.get(`${this.apiUrl}/${i}`)}createAsset(i){return this.http.post(this.apiUrl,i)}updateAsset(i,e){return this.http.put(`${this.apiUrl}/${i}`,e)}deleteAsset(i){return this.http.delete(`${this.apiUrl}/${i}`)}getLocations(){return this.http.get(`${this.baseApiUrl}/locations`)}getSuppliers(){return this.http.get(`${this.baseApiUrl}/suppliers`)}getPrograms(){return this.http.get(`${this.baseApiUrl}/programs`)}getStatuses(){return this.http.get(`${this.baseApiUrl}/statuses`)}getInvCustlips(){return this.http.get(`${this.baseApiUrl}/InvCustlips`)}getInvCustlip(i){return this.http.get(`${this.baseApiUrl}/InvCustlips/${i}`)}createInvCustlip(i){return this.http.post(`${this.baseApiUrl}/InvCustlips`,i)}updateInvCustlip(i,e){return this.http.put(`${this.baseApiUrl}/InvCustlips/${i}`,e)}deleteInvCustlip(i){return this.http.delete(`${this.baseApiUrl}/InvCustlips/${i}`)}getColors(){return this.http.get(`${this.baseApiUrl}/colors`)}getBrands(){return this.http.get(`${this.baseApiUrl}/brands`)}getMaintenanceRequests(){return this.http.get(`${this.baseApiUrl}/MaintenanceRequests`)}getMaintenanceRequest(i){return this.http.get(`${this.baseApiUrl}/MaintenanceRequests/${i}`)}createMaintenanceRequest(i){return this.http.post(`${this.baseApiUrl}/MaintenanceRequests`,i)}updateMaintenanceRequest(i,e){return this.http.put(`${this.baseApiUrl}/MaintenanceRequests/${i}`,e)}deleteMaintenanceRequest(i){return this.http.delete(`${this.baseApiUrl}/MaintenanceRequests/${i}`)}getUsers(){return this.http.get(`${this.baseApiUrl}/users`)}getUserById(i){return this.http.get(`${this.baseApiUrl}/users/${i}`)}static \u0275fac=function(e){return new(e||o)(Qe(Ze))};static \u0275prov=te({token:o,factory:o.\u0275fac,providedIn:"root"})};var E=et(lt());var cn=["dt"],dn=["custodianMenu"],mn=()=>["PropertyNo","AssetName","Category","Status_id"],un=()=>({"min-width":"100rem"}),_n=()=>[10,20,30],gn=()=>({width:"900px"}),Cn=()=>({width:"500px"}),fn=()=>({width:"700px"}),hn=()=>({width:"800px"}),xn=()=>({width:"450px"}),bn=(o,i)=>({"row-selected":o,"row-clickable":!0,"row-expanded":i}),ut=(o,i)=>({"bg-primary text-white":o,"surface-200 text-600":i}),Yt=(o,i)=>({"bg-primary":o,"surface-200":i});function vn(o,i){if(o&1){let e=y();r(0,"p-button",19),b("onClick",function(){d(e);let t=c();return m(t.openNew())}),n(),r(1,"p-button",20),b("onClick",function(){d(e);let t=c();return m(t.deleteSelectedAssets())}),n()}if(o&2){let e=c();p(),u("disabled",!e.selectedAssets||!e.selectedAssets.length)}}function yn(o,i){if(o&1){let e=y();r(0,"p-button",21),b("onClick",function(){d(e);let t=c();return m(t.exportCSV())}),n()}}function Sn(o,i){if(o&1){let e=y();r(0,"div",22)(1,"h5",23),a(2,"assets Management"),n(),r(3,"div",24)(4,"p-button",25),b("onClick",function(){d(e);let t=c();return m(t.expandAll())}),n(),r(5,"p-button",26),b("onClick",function(){d(e);let t=c();return m(t.collapseAll())}),n(),r(6,"p-iconfield"),g(7,"p-inputicon",27),r(8,"input",28),b("input",function(t){d(e);let s=c(),_=J(7);return m(s.onGlobalFilter(_,t))}),n()()()()}}function wn(o,i){o&1&&(r(0,"tr")(1,"th",29),g(2,"p-tableHeaderCheckbox"),n(),g(3,"th",30),r(4,"th",31),a(5," Property No "),g(6,"p-sortIcon",32),n(),r(7,"th",33),a(8," Asset Name "),g(9,"p-sortIcon",34),n(),r(10,"th",35),a(11," Category "),g(12,"p-sortIcon",36),n(),r(13,"th",37),a(14," Found Cluster "),g(15,"p-sortIcon",38),n(),r(16,"th",39),a(17," Issued To "),g(18,"p-sortIcon",40),n(),r(19,"th",41),a(20," Status "),g(21,"p-sortIcon",42),n(),r(22,"th",43),a(23," Date Acquired "),g(24,"p-sortIcon",44),n(),r(25,"th",45),a(26,"QR Code"),n(),r(27,"th",46),a(28,"Actions"),n()())}function En(o,i){o&1&&g(0,"i",62)}function In(o,i){o&1&&g(0,"i",63)}function Mn(o,i){if(o&1){let e=y();r(0,"img",64),b("click",function(){d(e);let t=c().$implicit,s=c();return m(s.viewQrCode(t.QrCode))}),n()}if(o&2){let e=c().$implicit;u("src",e.QrCode,Fe)}}function Tn(o,i){o&1&&(r(0,"span",58),a(1,"No QR Code"),n())}function Dn(o,i){if(o&1){let e=y();r(0,"tr",47),b("click",function(t){let s=d(e).$implicit,_=c();return m(_.onRowClick(s,t))}),r(1,"td",48),b("click",function(t){return d(e),m(t.stopPropagation())}),g(2,"p-tableCheckbox",49),n(),r(3,"td",50),b("click",function(t){return d(e),m(t.stopPropagation())}),g(4,"p-button",51),n(),r(5,"td"),a(6),n(),r(7,"td"),a(8),n(),r(9,"td"),a(10),n(),r(11,"td"),a(12),n(),r(13,"td")(14,"div",52)(15,"span"),a(16),n(),C(17,En,1,0,"i",53)(18,In,1,0,"i",54),n()(),r(19,"td"),g(20,"p-tag",55),n(),r(21,"td"),a(22),n(),r(23,"td",56),b("click",function(t){return d(e),m(t.stopPropagation())}),C(24,Mn,1,1,"img",57),N(25,Tn,2,0,"span",58),n(),r(26,"td",56),b("click",function(t){return d(e),m(t.stopPropagation())}),r(27,"div",52)(28,"p-button",59),b("click",function(){let t=d(e).$implicit,s=c();return m(s.openMaintenanceRequest(t))}),n(),r(29,"p-button",60),b("click",function(){let t=d(e).$implicit,s=c();return m(s.editAsset(t))}),n(),r(30,"p-button",61),b("click",function(){let t=d(e).$implicit,s=c();return m(s.deleteAsset(t))}),n()()()()}if(o&2){let e=i.$implicit,l=i.expanded,t=c();u("ngClass",$(24,bn,t.selectedRowId===e.id,l)),p(2),u("value",e),p(2),u("pRowToggler",e)("text",!0)("rounded",!0)("icon",l?"pi pi-chevron-down":"pi pi-chevron-right"),p(2),Q(e.PropertyNo),p(2),Q(e.AssetName),p(2),Q(e.Category),p(2),Q(e.FoundCluster),p(4),Q(e.IssuedTo||"Not assigned"),p(),u("ngIf",!e.IssuedTo),p(),u("ngIf",e.IssuedTo),p(2),u("value",e.Status_id)("severity",t.getStatusSeverity(e.Status_id)),p(2),Q(e.DateAcquired),p(2),u("ngIf",e.QrCode),p(),W(e.QrCode?-1:25),p(3),u("rounded",!0)("outlined",!0),p(),u("rounded",!0)("outlined",!0),p(),u("rounded",!0)("outlined",!0)}}function qn(o,i){if(o&1&&(r(0,"div",85)(1,"small",86),a(2),n(),a(3),n()),o&2){let e=i.$implicit;p(2),v("",e.key,":"),p(),v(" ",e.value," ")}}function Rn(o,i){if(o&1&&(r(0,"div",79)(1,"strong"),a(2,"Specifications:"),n(),C(3,qn,4,2,"div",84),n()),o&2){let e=c().$implicit,l=c(3);p(3),u("ngForOf",l.getSpecsArray(e.specs))}}function Vn(o,i){if(o&1&&(r(0,"div",72)(1,"div",73)(2,"div",74)(3,"h6",75),g(4,"i",76),a(5),n()(),r(6,"div",77)(7,"div",78)(8,"div",79)(9,"strong"),a(10,"Invoice No:"),n(),a(11),n(),r(12,"div",80)(13,"strong"),a(14,"Quantity:"),n(),a(15),n(),r(16,"div",80)(17,"strong"),a(18,"UoM:"),n(),a(19),n(),r(20,"div",79)(21,"strong"),a(22,"Description:"),n(),a(23),n(),r(24,"div",80)(25,"strong"),a(26,"Brand:"),n(),a(27),n(),r(28,"div",80)(29,"strong"),a(30,"Color:"),n(),r(31,"span",81),g(32,"span",82),a(33),n()(),r(34,"div",80)(35,"strong"),a(36,"Height:"),n(),a(37),n(),r(38,"div",80)(39,"strong"),a(40,"Width:"),n(),a(41),n(),r(42,"div",80)(43,"strong"),a(44,"Package:"),n(),a(45),n(),r(46,"div",80)(47,"strong"),a(48,"Material:"),n(),a(49),n(),r(50,"div",79)(51,"strong"),a(52,"Date Acquired:"),n(),a(53),Mt(54,"date"),n(),C(55,Rn,4,1,"div",83),n()()()()),o&2){let e=i.$implicit,l=i.index,t=c(3);p(5),v(" Item #",l+1," "),p(6),v(" ",e.InvNo||"N/A"),p(4),v(" ",e.Quantity),p(4),v(" ",e.UoM),p(4),v(" ",e.Description),p(4),v(" ",t.getBrandName(e.brand_id)),p(5),wt("background-color",t.getColorCode(e.color_id)),p(),v(" ",t.getColorName(e.color_id)," "),p(4),v(" ",e.height),p(4),v(" ",e.width),p(4),v(" ",e.package),p(4),v(" ",e.material),p(4),v(" ",Tt(54,15,e.DateAcquired)),p(2),u("ngIf",e.specs)}}function kn(o,i){if(o&1&&(r(0,"div")(1,"div",70),C(2,Vn,56,17,"div",71),n()()),o&2){let e=c().$implicit,l=c();p(2),u("ngForOf",l.getInvCustlipsForAsset(e))}}function An(o,i){o&1&&(r(0,"div",87),g(1,"i",88),r(2,"p",89),a(3,"No InvCustlips records found for this asset."),n()())}function Pn(o,i){if(o&1&&(r(0,"tr")(1,"td",65)(2,"div",66)(3,"h6",67),g(4,"i",68),a(5),n(),C(6,kn,3,1,"div",69)(7,An,4,0,"ng-template",null,11,S),n()()()),o&2){let e=i.$implicit,l=J(8),t=c();p(5),v(" InvCustlips Details for ",e.AssetName," "),p(),u("ngIf",t.getInvCustlipsForAsset(e).length>0)("ngIfElse",l)}}function Bn(o,i){if(o&1&&g(0,"i"),o&2){let e=c().$implicit;X(e.icon)}}function Nn(o,i){if(o&1&&(r(0,"small",86),a(1),n()),o&2){let e=c().$implicit;p(),Q(e.detail)}}function Wn(o,i){if(o&1&&(r(0,"div",90),C(1,Bn,1,2,"i",91),r(2,"div",92)(3,"span",93),a(4),n(),C(5,Nn,2,1,"small",94),n()()),o&2){let e=i.$implicit;u("ngClass",e.styleClass),p(),u("ngIf",e.icon),p(3),Q(e.label),p(),u("ngIf",e.detail)}}function Fn(o,i){o&1&&(r(0,"small",133),a(1,"Property No is required."),n())}function Ln(o,i){o&1&&(r(0,"small",133),a(1,"Asset Name is required."),n())}function On(o,i){if(o&1){let e=y();r(0,"div",134),g(1,"img",135),r(2,"p-button",136),b("onClick",function(){d(e);let t=c(3);return m(t.removeQrCode())}),n()()}if(o&2){let e=c(3);p(),u("src",e.stepperData.asset.QrCode,Fe)}}function Un(o,i){if(o&1){let e=y();r(0,"div",101)(1,"div",102)(2,"div",103)(3,"label",104),a(4,"Property No"),n(),r(5,"input",105),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.PropertyNo,t)||(s.stepperData.asset.PropertyNo=t),m(t)}),n(),C(6,Fn,2,0,"small",106),n(),r(7,"div",103)(8,"label",107),a(9,"Category"),n(),r(10,"p-select",108),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.Category,t)||(s.stepperData.asset.Category=t),m(t)}),n()(),r(11,"div",109)(12,"label",110),a(13,"Asset Name"),n(),r(14,"input",111),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.AssetName,t)||(s.stepperData.asset.AssetName=t),m(t)}),n(),C(15,Ln,2,0,"small",106),n(),r(16,"div",103)(17,"label",112),a(18,"Found Cluster"),n(),r(19,"input",113),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.FoundCluster,t)||(s.stepperData.asset.FoundCluster=t),m(t)}),n()(),r(20,"div",103)(21,"label",114),a(22,"Location"),n(),r(23,"p-select",115),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.Location_id,t)||(s.stepperData.asset.Location_id=t),m(t)}),n()(),r(24,"div",103)(25,"label",116),a(26,"Supplier"),n(),r(27,"p-select",117),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.Supplier_id,t)||(s.stepperData.asset.Supplier_id=t),m(t)}),n()(),r(28,"div",103)(29,"label",118),a(30,"Program"),n(),r(31,"p-select",119),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.Program_id,t)||(s.stepperData.asset.Program_id=t),m(t)}),n()(),r(32,"div",109)(33,"label",120),a(34,"Purpose"),n(),r(35,"textarea",121),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.Purpose,t)||(s.stepperData.asset.Purpose=t),m(t)}),n()(),r(36,"div",103)(37,"label",122),a(38,"Date Acquired"),n(),r(39,"input",123),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.DateAcquired,t)||(s.stepperData.asset.DateAcquired=t),m(t)}),n()(),r(40,"div",103)(41,"label",124),a(42,"Issued To"),n(),r(43,"input",125),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.IssuedTo,t)||(s.stepperData.asset.IssuedTo=t),m(t)}),n()(),r(44,"div",103)(45,"label",126),a(46,"Status"),n(),r(47,"p-select",127),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.Status_id,t)||(s.stepperData.asset.Status_id=t),m(t)}),n()(),r(48,"div",103)(49,"label",128),a(50,"Active"),n(),r(51,"p-select",129),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.asset.Active,t)||(s.stepperData.asset.Active=t),m(t)}),n()()(),r(52,"div",109)(53,"label",130),a(54,"QR Code"),n(),r(55,"p-fileUpload",131),b("onSelect",function(t){d(e);let s=c(2);return m(s.onQrCodeSelect(t))}),n(),C(56,On,3,1,"div",132),n()()}if(o&2){let e=c(2);p(5),f("ngModel",e.stepperData.asset.PropertyNo),p(),u("ngIf",e.submitted&&!e.stepperData.asset.PropertyNo),p(4),f("ngModel",e.stepperData.asset.Category),u("options",e.categories),p(4),f("ngModel",e.stepperData.asset.AssetName),p(),u("ngIf",e.submitted&&!e.stepperData.asset.AssetName),p(4),f("ngModel",e.stepperData.asset.FoundCluster),p(4),f("ngModel",e.stepperData.asset.Location_id),u("options",e.locations),p(4),f("ngModel",e.stepperData.asset.Supplier_id),u("options",e.suppliers),p(4),f("ngModel",e.stepperData.asset.Program_id),u("options",e.programs),p(4),f("ngModel",e.stepperData.asset.Purpose),p(4),f("ngModel",e.stepperData.asset.DateAcquired),p(4),f("ngModel",e.stepperData.asset.IssuedTo),p(4),f("ngModel",e.stepperData.asset.Status_id),u("options",e.statusOptions),p(4),f("ngModel",e.stepperData.asset.Active),u("options",e.activeOptions),p(4),u("maxFileSize",1e6)("auto",!0),p(),u("ngIf",e.stepperData.asset.QrCode)}}function Qn(o,i){o&1&&(r(0,"small",133),a(1,"Quantity is required."),n())}function jn(o,i){o&1&&(r(0,"small",133),a(1,"Unit of Measure is required."),n())}function Hn(o,i){o&1&&(r(0,"small",133),a(1,"Description is required."),n())}function zn(o,i){if(o&1){let e=y();r(0,"div",101)(1,"div",102)(2,"div",103)(3,"label",137),a(4,"Quantity"),n(),r(5,"input",138),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.Quantity,t)||(s.stepperData.invCustlip.Quantity=t),m(t)}),n(),C(6,Qn,2,0,"small",106),n(),r(7,"div",103)(8,"label",139),a(9,"Unit of Measure"),n(),r(10,"input",140),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.UoM,t)||(s.stepperData.invCustlip.UoM=t),m(t)}),n(),C(11,jn,2,0,"small",106),n(),r(12,"div",103)(13,"label",141),a(14,"Color"),n(),r(15,"p-select",142),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.color_id,t)||(s.stepperData.invCustlip.color_id=t),m(t)}),n()(),r(16,"div",109)(17,"label",143),a(18,"Description"),n(),r(19,"textarea",144),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.Description,t)||(s.stepperData.invCustlip.Description=t),m(t)}),n(),C(20,Hn,2,0,"small",106),n(),r(21,"div",103)(22,"label",145),a(23,"Brand"),n(),r(24,"p-select",146),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.brand_id,t)||(s.stepperData.invCustlip.brand_id=t),m(t)}),n()(),r(25,"div",103)(26,"label",147),a(27,"Height"),n(),r(28,"input",148),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.height,t)||(s.stepperData.invCustlip.height=t),m(t)}),n()(),r(29,"div",103)(30,"label",149),a(31,"Width"),n(),r(32,"input",150),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.width,t)||(s.stepperData.invCustlip.width=t),m(t)}),n()(),r(33,"div",103)(34,"label",151),a(35,"Package"),n(),r(36,"input",152),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.package,t)||(s.stepperData.invCustlip.package=t),m(t)}),n()(),r(37,"div",103)(38,"label",153),a(39,"Material"),n(),r(40,"input",154),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.material,t)||(s.stepperData.invCustlip.material=t),m(t)}),n()(),r(41,"div",103)(42,"label",155),a(43,"Inventory No"),n(),r(44,"input",156),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.InvNo,t)||(s.stepperData.invCustlip.InvNo=t),m(t)}),n()(),r(45,"div",103)(46,"label",157),a(47,"Date Acquired"),n(),r(48,"input",158),x("ngModelChange",function(t){d(e);let s=c(2);return h(s.stepperData.invCustlip.DateAcquired,t)||(s.stepperData.invCustlip.DateAcquired=t),m(t)}),n()()()()}if(o&2){let e=c(2);p(5),f("ngModel",e.stepperData.invCustlip.Quantity),p(),u("ngIf",e.submittedInv&&!e.stepperData.invCustlip.Quantity),p(4),f("ngModel",e.stepperData.invCustlip.UoM),p(),u("ngIf",e.submittedInv&&!e.stepperData.invCustlip.UoM),p(4),f("ngModel",e.stepperData.invCustlip.color_id),u("options",e.colors),p(4),f("ngModel",e.stepperData.invCustlip.Description),p(),u("ngIf",e.submittedInv&&!e.stepperData.invCustlip.Description),p(4),f("ngModel",e.stepperData.invCustlip.brand_id),u("options",e.brands),p(4),f("ngModel",e.stepperData.invCustlip.height),p(4),f("ngModel",e.stepperData.invCustlip.width),p(4),f("ngModel",e.stepperData.invCustlip.package),p(4),f("ngModel",e.stepperData.invCustlip.material),p(4),f("ngModel",e.stepperData.invCustlip.InvNo),p(4),f("ngModel",e.stepperData.invCustlip.DateAcquired)}}function Gn(o,i){if(o&1&&(r(0,"div",109)(1,"strong"),a(2,"QR Code:"),n(),r(3,"div",166),g(4,"img",167),n()()),o&2){let e=c(3);p(4),u("src",e.stepperData.asset.QrCode,Fe)}}function Zn(o,i){if(o&1&&(r(0,"div",101)(1,"div",159)(2,"h3",160),a(3,"Review Your Information"),n(),r(4,"div",161)(5,"h4",162),a(6,"Asset Details"),n(),r(7,"div",163)(8,"div",103)(9,"strong"),a(10,"Property No:"),n(),a(11),n(),r(12,"div",103)(13,"strong"),a(14,"Category:"),n(),a(15),n(),r(16,"div",103)(17,"strong"),a(18,"Asset Name:"),n(),a(19),n(),r(20,"div",103)(21,"strong"),a(22,"Found Cluster:"),n(),a(23),n(),r(24,"div",103)(25,"strong"),a(26,"Date Acquired:"),n(),a(27),n(),r(28,"div",103)(29,"strong"),a(30,"Issued To:"),n(),a(31),n(),r(32,"div",109)(33,"strong"),a(34,"Purpose:"),n(),a(35),n(),C(36,Gn,5,1,"div",164),n()(),r(37,"div",165)(38,"h4",162),a(39,"InvCustlip Details"),n(),r(40,"div",163)(41,"div",103)(42,"strong"),a(43,"Quantity:"),n(),a(44),n(),r(45,"div",103)(46,"strong"),a(47,"Unit of Measure:"),n(),a(48),n(),r(49,"div",103)(50,"strong"),a(51,"Brand:"),n(),a(52),n(),r(53,"div",103)(54,"strong"),a(55,"Color:"),n(),a(56),n(),r(57,"div",103)(58,"strong"),a(59,"Height:"),n(),a(60),n(),r(61,"div",103)(62,"strong"),a(63,"Width:"),n(),a(64),n(),r(65,"div",103)(66,"strong"),a(67,"Package:"),n(),a(68),n(),r(69,"div",103)(70,"strong"),a(71,"Material:"),n(),a(72),n(),r(73,"div",103)(74,"strong"),a(75,"Inventory No:"),n(),a(76),n(),r(77,"div",109)(78,"strong"),a(79,"Description:"),n(),a(80),n()()()()()),o&2){let e=c(2);p(11),v(" ",e.stepperData.asset.PropertyNo),p(4),v(" ",e.stepperData.asset.Category),p(4),v(" ",e.stepperData.asset.AssetName),p(4),v(" ",e.stepperData.asset.FoundCluster),p(4),v(" ",e.stepperData.asset.DateAcquired),p(4),v(" ",e.stepperData.asset.IssuedTo),p(4),v(" ",e.stepperData.asset.Purpose),p(),u("ngIf",e.stepperData.asset.QrCode),p(8),v(" ",e.stepperData.invCustlip.Quantity),p(4),v(" ",e.stepperData.invCustlip.UoM),p(4),v(" ",e.getBrandName(e.stepperData.invCustlip.brand_id)),p(4),v(" ",e.getColorName(e.stepperData.invCustlip.color_id)),p(4),v(" ",e.stepperData.invCustlip.height),p(4),v(" ",e.stepperData.invCustlip.width),p(4),v(" ",e.stepperData.invCustlip.package),p(4),v(" ",e.stepperData.invCustlip.material),p(4),v(" ",e.stepperData.invCustlip.InvNo),p(4),v(" ",e.stepperData.invCustlip.Description)}}function Kn(o,i){if(o&1&&(r(0,"div",95)(1,"div",96),g(2,"div",97)(3,"div",98)(4,"div",97)(5,"div",98)(6,"div",97),n()(),r(7,"div",99),C(8,Un,57,23,"div",100)(9,zn,49,16,"div",100)(10,Zn,81,18,"div",100),n()),o&2){let e=c();p(2),u("ngClass",$(9,ut,e.currentStep>=0,e.currentStep<0)),p(),u("ngClass",$(12,Yt,e.currentStep>=1,e.currentStep<1)),p(),u("ngClass",$(15,ut,e.currentStep>=1,e.currentStep<1)),p(),u("ngClass",$(18,Yt,e.currentStep>=2,e.currentStep<2)),p(),u("ngClass",$(21,ut,e.currentStep>=2,e.currentStep<2)),p(),u("ngSwitch",e.currentStep),p(),u("ngSwitchCase",0),p(),u("ngSwitchCase",1),p(),u("ngSwitchCase",2)}}function Yn(o,i){if(o&1){let e=y();r(0,"p-button",174),b("onClick",function(){d(e);let t=c(2);return m(t.previousStep())}),n()}}function Jn(o,i){if(o&1){let e=y();r(0,"p-button",175),b("onClick",function(){d(e);let t=c(2);return m(t.nextStep())}),n()}}function Xn(o,i){if(o&1){let e=y();r(0,"p-button",176),b("onClick",function(){d(e);let t=c(2);return m(t.submitStepper())}),n()}}function $n(o,i){if(o&1){let e=y();r(0,"div",168)(1,"p-button",169),b("click",function(){d(e);let t=c();return m(t.closeStepper())}),n(),r(2,"div",170),C(3,Yn,1,0,"p-button",171)(4,Jn,1,0,"p-button",172)(5,Xn,1,0,"p-button",173),n()()}if(o&2){let e=c();p(3),u("ngIf",e.currentStep>0),p(),u("ngIf",e.currentStep<2),p(),u("ngIf",e.currentStep===2)}}function er(o,i){if(o&1&&(r(0,"div",177),g(1,"img",178),n()),o&2){let e=c();p(),u("src",e.selectedQrCode,Fe)}}function tr(o,i){if(o&1){let e=y();r(0,"p-button",179),b("click",function(){d(e);let t=c();return m(t.closeQrCodeViewer())}),n(),r(1,"p-button",180),b("click",function(){d(e);let t=c();return m(t.downloadQrCode())}),n()}}function ir(o,i){o&1&&(r(0,"small",133),a(1,"Request Date is required."),n())}function nr(o,i){o&1&&(r(0,"small",133),a(1,"Priority is required."),n())}function rr(o,i){o&1&&(r(0,"small",133),a(1,"Issue Description is required."),n())}function or(o,i){if(o&1){let e=y();r(0,"div",181)(1,"div",182)(2,"h5",183),a(3,"Asset Information"),n(),r(4,"div",184)(5,"p")(6,"strong"),a(7,"Property No:"),n(),a(8),n(),r(9,"p")(10,"strong"),a(11,"Asset Name:"),n(),a(12),n(),r(13,"p")(14,"strong"),a(15,"Category:"),n(),a(16),n()()(),r(17,"div",103)(18,"label",185),a(19,"Request Date"),n(),r(20,"input",186),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.RequestDate,t)||(s.maintenanceRequest.RequestDate=t),m(t)}),n(),C(21,ir,2,0,"small",106),n(),r(22,"div",103)(23,"label",187),a(24,"Priority"),n(),r(25,"p-select",188),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.Priority,t)||(s.maintenanceRequest.Priority=t),m(t)}),n(),C(26,nr,2,0,"small",106),n(),r(27,"div",109)(28,"label",189),a(29,"Issue Description"),n(),r(30,"textarea",190),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.IssueDescription,t)||(s.maintenanceRequest.IssueDescription=t),m(t)}),n(),C(31,rr,2,0,"small",106),n(),r(32,"div",109)(33,"label",191),a(34,"Requested By"),n(),r(35,"input",192),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.RequestedBy,t)||(s.maintenanceRequest.RequestedBy=t),m(t)}),n()()()}if(o&2){let e=c();p(8),v(" ",e.selectedAssetForMaintenance==null?null:e.selectedAssetForMaintenance.PropertyNo),p(4),v(" ",e.selectedAssetForMaintenance==null?null:e.selectedAssetForMaintenance.AssetName),p(4),v(" ",e.selectedAssetForMaintenance==null?null:e.selectedAssetForMaintenance.Category),p(4),f("ngModel",e.maintenanceRequest.RequestDate),p(),u("ngIf",e.submittedMaintenance&&!e.maintenanceRequest.RequestDate),p(4),f("ngModel",e.maintenanceRequest.Priority),u("options",e.priorityOptions),p(),u("ngIf",e.submittedMaintenance&&!e.maintenanceRequest.Priority),p(4),f("ngModel",e.maintenanceRequest.IssueDescription),p(),u("ngIf",e.submittedMaintenance&&!e.maintenanceRequest.IssueDescription),p(4),f("ngModel",e.maintenanceRequest.RequestedBy)}}function ar(o,i){if(o&1){let e=y();r(0,"p-button",169),b("click",function(){d(e);let t=c();return m(t.closeMaintenanceRequest())}),n(),r(1,"p-button",193),b("click",function(){d(e);let t=c();return m(t.saveMaintenanceRequest())}),n()}}function sr(o,i){o&1&&(r(0,"small",133),a(1,"Quantity is required."),n())}function lr(o,i){o&1&&(r(0,"small",133),a(1,"Unit of Measure is required."),n())}function pr(o,i){o&1&&(r(0,"small",133),a(1,"Description is required."),n())}function cr(o,i){if(o&1){let e=y();r(0,"div",181)(1,"div",103)(2,"label",194),a(3,"Quantity"),n(),r(4,"input",195),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.Quantity,t)||(s.invCustlip.Quantity=t),m(t)}),n(),C(5,sr,2,0,"small",106),n(),r(6,"div",103)(7,"label",196),a(8,"Unit of Measure"),n(),r(9,"input",197),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.UoM,t)||(s.invCustlip.UoM=t),m(t)}),n(),C(10,lr,2,0,"small",106),n(),r(11,"div",103)(12,"label",198),a(13,"Color"),n(),r(14,"p-select",199),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.color_id,t)||(s.invCustlip.color_id=t),m(t)}),n()(),r(15,"div",109)(16,"label",200),a(17,"Description"),n(),r(18,"textarea",201),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.Description,t)||(s.invCustlip.Description=t),m(t)}),n(),C(19,pr,2,0,"small",106),n(),r(20,"div",103)(21,"label",202),a(22,"Brand"),n(),r(23,"p-select",203),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.brand_id,t)||(s.invCustlip.brand_id=t),m(t)}),n()(),r(24,"div",103)(25,"label",204),a(26,"Height"),n(),r(27,"input",205),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.height,t)||(s.invCustlip.height=t),m(t)}),n()(),r(28,"div",103)(29,"label",206),a(30,"Width"),n(),r(31,"input",207),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.width,t)||(s.invCustlip.width=t),m(t)}),n()(),r(32,"div",103)(33,"label",208),a(34,"Package"),n(),r(35,"input",209),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.package,t)||(s.invCustlip.package=t),m(t)}),n()(),r(36,"div",103)(37,"label",210),a(38,"Material"),n(),r(39,"input",211),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.material,t)||(s.invCustlip.material=t),m(t)}),n()(),r(40,"div",103)(41,"label",212),a(42,"Inventory No"),n(),r(43,"input",213),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.InvNo,t)||(s.invCustlip.InvNo=t),m(t)}),n()(),r(44,"div",103)(45,"label",214),a(46,"Date Acquired"),n(),r(47,"input",215),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.DateAcquired,t)||(s.invCustlip.DateAcquired=t),m(t)}),n()()()}if(o&2){let e=c();p(4),f("ngModel",e.invCustlip.Quantity),p(),u("ngIf",e.submittedInv&&!e.invCustlip.Quantity),p(4),f("ngModel",e.invCustlip.UoM),p(),u("ngIf",e.submittedInv&&!e.invCustlip.UoM),p(4),f("ngModel",e.invCustlip.color_id),u("options",e.colors),p(4),f("ngModel",e.invCustlip.Description),p(),u("ngIf",e.submittedInv&&!e.invCustlip.Description),p(4),f("ngModel",e.invCustlip.brand_id),u("options",e.brands),p(4),f("ngModel",e.invCustlip.height),p(4),f("ngModel",e.invCustlip.width),p(4),f("ngModel",e.invCustlip.package),p(4),f("ngModel",e.invCustlip.material),p(4),f("ngModel",e.invCustlip.InvNo),p(4),f("ngModel",e.invCustlip.DateAcquired)}}function dr(o,i){if(o&1){let e=y();r(0,"p-button",216),b("click",function(){d(e);let t=c();return m(t.hideInvCustlipDialog())}),n(),r(1,"p-button",217),b("click",function(){d(e);let t=c();return m(t.saveInvCustlip())}),n()}}var Jt=class o{constructor(i,e,l){this.assetService=i;this.messageService=e;this.confirmationService=l}assetDialog=!1;qrCodeViewerDialog=!1;invCustlipDialog=!1;stepperDialog=!1;maintenanceRequestDialog=!1;assets=ie([]);asset={};invCustlip={};maintenanceRequest={};selectedAssetForMaintenance=null;selectedQrCode="";selectedAssets=null;submitted=!1;submittedInv=!1;submittedMaintenance=!1;currentStep=0;stepperData={asset:{},invCustlip:{}};statuses=[];categories=[];activeOptions=[];locations=[];suppliers=[];programs=[];statusOptions=[];priorityOptions=[{label:"Low",value:"Low"},{label:"Medium",value:"Medium"},{label:"High",value:"High"},{label:"Critical",value:"Critical"}];colors=[];brands=[];invCustlips=[];custodians=[];selectedRowId=null;custodianMenuItems=[];expandedRows={};dt;custodianMenu;exportColumns;cols;exportCSV(){this.dt.exportCSV()}ngOnInit(){this.loadAssets(),this.initializeDropdowns(),this.loadCustodians(),this.loadInvCustlips()}loadAssets(){this.assetService.getAssets().subscribe({next:i=>{this.assets.set(i)},error:i=>{console.error("Error loading assets:",i),E.default.fire({icon:"error",title:"Error",text:"Failed to load assets. Please try again.",confirmButtonColor:"#EF4444"})}})}loadInvCustlips(){this.assetService.getInvCustlips().subscribe({next:i=>{this.invCustlips=i},error:i=>{console.error("Error loading InvCustlips:",i)}})}initializeDropdowns(){this.statuses=[{label:"ACTIVE",value:"ACTIVE"},{label:"MAINTENANCE",value:"MAINTENANCE"},{label:"DISPOSED",value:"DISPOSED"},{label:"LOST",value:"LOST"}],this.categories=[{label:"Software",value:"Software"},{label:"Hardware",value:"Hardware"}],this.activeOptions=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],this.loadReferenceData(),this.cols=[{field:"PropertyNo",header:"Property No"},{field:"AssetName",header:"Asset Name"},{field:"Category",header:"Category"},{field:"FoundCluster",header:"Found Cluster"},{field:"IssuedTo",header:"Issued To"},{field:"Status_id",header:"Status"},{field:"DateAcquired",header:"Date Acquired"}],this.exportColumns=this.cols.map(i=>({title:i.header,dataKey:i.field}))}loadReferenceData(){this.assetService.getLocations().subscribe({next:i=>{this.locations=i},error:i=>{console.error("Error loading locations:",i)}}),this.assetService.getSuppliers().subscribe({next:i=>{this.suppliers=i},error:i=>{console.error("Error loading suppliers:",i)}}),this.assetService.getPrograms().subscribe({next:i=>{this.programs=i},error:i=>{console.error("Error loading programs:",i)}}),this.assetService.getStatuses().subscribe({next:i=>{this.statusOptions=i},error:i=>{console.error("Error loading statuses:",i)}}),this.assetService.getColors().subscribe({next:i=>{this.colors=i},error:i=>{console.error("Error loading colors:",i)}}),this.assetService.getBrands().subscribe({next:i=>{this.brands=i},error:i=>{console.error("Error loading brands:",i)}})}onGlobalFilter(i,e){i.filterGlobal(e.target.value,"contains")}openNew(){this.stepperData={asset:{},invCustlip:{}},this.currentStep=0,this.submitted=!1,this.submittedInv=!1,this.stepperDialog=!0}editAsset(i){this.asset=H({},i),this.assetDialog=!0}deleteSelectedAssets(){!this.selectedAssets||this.selectedAssets.length===0||this.confirmationService.confirm({message:"Are you sure you want to delete the selected assets?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{let i=this.selectedAssets.map(e=>this.assetService.deleteAsset(e.id).toPromise());Promise.all(i).then(()=>{this.loadAssets(),this.selectedAssets=null,E.default.fire({icon:"success",title:"Success!",text:"Assets deleted successfully",timer:2e3,showConfirmButton:!1})}).catch(e=>{console.error("Error deleting assets:",e),E.default.fire({icon:"error",title:"Error",text:"Failed to delete assets. Please try again.",confirmButtonColor:"#EF4444"})})}})}hideDialog(){this.assetDialog=!1,this.submitted=!1}loadCustodians(){this.assetService.getUsers().subscribe({next:i=>{this.custodians=i.filter(e=>e.role==="Faculty"||e.role==="Labtech"||e.role==="Campus Admin"||e.role==="Super Admin")},error:i=>{console.error("Error loading custodians:",i)}})}onRowClick(i,e){if(e.stopPropagation(),this.selectedRowId===i.id){this.selectedRowId=null;return}this.selectedRowId=i.id,this.custodianMenuItems=this.custodians.map(l=>({label:`${l.FirstName} ${l.LastName}`,detail:`${l.role} - ${l.Department}`,icon:"pi pi-user",command:()=>this.assignCustodian(i,l)})),i.IssuedTo&&this.custodianMenuItems.unshift({label:`Currently assigned to: ${i.IssuedTo}`,icon:"pi pi-check-circle",disabled:!0,styleClass:"current-custodian"},{separator:!0}),this.custodianMenuItems.push({separator:!0},{label:"Unassign Custodian",icon:"pi pi-times",command:()=>this.unassignCustodian(i),styleClass:"unassign-option"}),setTimeout(()=>{this.custodianMenu&&this.custodianMenu.toggle(e)},50)}assignCustodian(i,e){let l=`${e.FirstName} ${e.LastName}`;E.default.fire({title:"Assign Custodian",text:`Assign ${l} as custodian for ${i.AssetName}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Assign",cancelButtonText:"Cancel"}).then(t=>{if(t.isConfirmed){let s=$e(H({},i),{IssuedTo:l});this.assetService.updateAsset(s.id,s).subscribe({next:()=>{let _=this.assets(),Ue=_.findIndex(ui=>ui.id===i.id);Ue!==-1&&(_[Ue]=s,this.assets.set([..._])),this.selectedRowId=null,E.default.fire({title:"Success!",text:`${l} has been assigned as custodian for ${i.AssetName}`,icon:"success",timer:2e3,showConfirmButton:!1})},error:_=>{console.error("Error assigning custodian:",_),E.default.fire({title:"Error",text:"Failed to assign custodian. Please try again.",icon:"error"})}})}})}unassignCustodian(i){E.default.fire({title:"Unassign Custodian",text:`Remove custodian assignment from ${i.AssetName}?`,icon:"question",showCancelButton:!0,confirmButtonText:"Yes, Unassign",cancelButtonText:"Cancel"}).then(e=>{if(e.isConfirmed){let l=$e(H({},i),{IssuedTo:""});this.assetService.updateAsset(l.id,l).subscribe({next:()=>{let t=this.assets(),s=t.findIndex(_=>_.id===i.id);s!==-1&&(t[s]=l,this.assets.set([...t])),this.selectedRowId=null,E.default.fire({title:"Success!",text:`Custodian has been unassigned from ${i.AssetName}`,icon:"success",timer:2e3,showConfirmButton:!1})},error:t=>{console.error("Error unassigning custodian:",t),E.default.fire({title:"Error",text:"Failed to unassign custodian. Please try again.",icon:"error"})}})}})}deleteAsset(i){this.confirmationService.confirm({message:"Are you sure you want to delete "+i.AssetName+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.assetService.deleteAsset(i.id).subscribe({next:()=>{this.loadAssets(),this.asset={},E.default.fire({icon:"success",title:"Success!",text:"Asset deleted successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error deleting asset:",e),E.default.fire({icon:"error",title:"Error",text:"Failed to delete asset. Please try again.",confirmButtonColor:"#EF4444"})}})}})}generatePropertyNo(){let i="PROP",e=new Date().getTime().toString().slice(-6);return i+e}generateQrCode(){let i=new Date().getTime().toString();return"QR"+Math.random().toString(36).substring(2,8).toUpperCase()+i.slice(-4)}getStatusSeverity(i){switch(i){case"ACTIVE":return"success";case"MAINTENANCE":return"warn";case"DISPOSED":return"danger";case"LOST":return"danger";default:return"info"}}onQrCodeSelect(i){let e=i.files[0];if(e){if(!e.type.startsWith("image/")){E.default.fire({icon:"error",title:"Invalid File Type",text:"Please select an image file for QR Code.",confirmButtonColor:"#EF4444"});return}if(e.size>1e6){E.default.fire({icon:"error",title:"File Too Large",text:"QR Code image must be less than 1MB.",confirmButtonColor:"#EF4444"});return}let l=new FileReader;l.onload=t=>{this.stepperDialog?this.stepperData.asset.QrCode=t.target.result:this.asset.QrCode=t.target.result},l.readAsDataURL(e)}}removeQrCode(){this.stepperDialog?this.stepperData.asset.QrCode="":this.asset.QrCode=""}viewQrCode(i){i&&(this.selectedQrCode=i,this.qrCodeViewerDialog=!0)}closeQrCodeViewer(){this.qrCodeViewerDialog=!1,this.selectedQrCode=""}downloadQrCode(){if(this.selectedQrCode){let i=document.createElement("a");i.href=this.selectedQrCode,i.download=`qr-code-${new Date().getTime()}.png`,document.body.appendChild(i),i.click(),document.body.removeChild(i),E.default.fire({icon:"success",title:"Downloaded!",text:"QR Code image has been downloaded.",timer:2e3,showConfirmButton:!1})}}openMaintenanceRequest(i){this.selectedAssetForMaintenance=i,this.maintenanceRequest={assets_id:String(i.id),RequestDate:new Date().toISOString().split("T")[0],RequestedBy:"Current User",Status:"Pending"},this.submittedMaintenance=!1,this.maintenanceRequestDialog=!0}closeMaintenanceRequest(){this.maintenanceRequestDialog=!1,this.maintenanceRequest={},this.selectedAssetForMaintenance=null,this.submittedMaintenance=!1}saveMaintenanceRequest(){if(this.submittedMaintenance=!0,!this.maintenanceRequest.RequestDate||!this.maintenanceRequest.IssueDescription?.trim()||!this.maintenanceRequest.Priority){E.default.fire({icon:"warning",title:"Missing Information",text:"Request Date, Issue Description, and Priority are required fields.",confirmButtonColor:"#3B82F6"});return}this.assetService.createMaintenanceRequest(this.maintenanceRequest).subscribe({next:()=>{this.maintenanceRequestDialog=!1,this.maintenanceRequest={},this.selectedAssetForMaintenance=null,this.submittedMaintenance=!1,E.default.fire({icon:"success",title:"Success!",text:"Maintenance request has been submitted successfully.",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error submitting maintenance request:",e),E.default.fire({icon:"error",title:"Error!",text:"Failed to submit maintenance request. Please try again.",confirmButtonColor:"#EF4444"})}})}saveAsset(){if(this.submitted=!0,!this.asset.PropertyNo?.trim()||!this.asset.AssetName?.trim()){E.default.fire({icon:"warning",title:"Missing Information",text:"Property No and Asset Name are required fields.",confirmButtonColor:"#3B82F6"});return}this.asset.id||(this.asset.PropertyNo=this.generatePropertyNo()),(this.asset.id?this.assetService.updateAsset(this.asset.id,this.asset):this.assetService.createAsset(this.asset)).subscribe({next:()=>{this.loadAssets(),this.assetDialog=!1,this.asset={},this.submitted=!1,E.default.fire({icon:"success",title:"Success!",text:this.asset.id?"Asset updated successfully":"Asset created successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error saving asset:",e),E.default.fire({icon:"error",title:"Error",text:"Failed to save asset. Please try again.",confirmButtonColor:"#EF4444"})}})}openInvCustlipDialog(i){this.invCustlip={},this.submittedInv=!1,this.invCustlipDialog=!0}hideInvCustlipDialog(){this.invCustlipDialog=!1,this.submittedInv=!1}saveInvCustlip(){if(this.submittedInv=!0,!this.invCustlip.Description?.trim()||!this.invCustlip.Quantity||!this.invCustlip.UoM?.trim()){E.default.fire({icon:"warning",title:"Missing Information",text:"Description, Quantity, and Unit of Measure are required fields.",confirmButtonColor:"#3B82F6"});return}(this.invCustlip.inv_custlip_id?this.assetService.updateInvCustlip(this.invCustlip.inv_custlip_id,this.invCustlip):this.assetService.createInvCustlip(this.invCustlip)).subscribe({next:()=>{this.invCustlipDialog=!1,this.invCustlip={},this.submittedInv=!1,E.default.fire({icon:"success",title:"Success!",text:this.invCustlip.inv_custlip_id?"InvCustlip updated successfully":"InvCustlip created successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error saving InvCustlip:",e),E.default.fire({icon:"error",title:"Error",text:"Failed to save InvCustlip. Please try again.",confirmButtonColor:"#EF4444"})}})}nextStep(){this.currentStep<2&&this.currentStep++}previousStep(){this.currentStep>0&&this.currentStep--}onTabChange(i){this.currentStep=i.index}getBrandName(i){return i&&this.brands.find(l=>l.brand_id===String(i))?.BrandName||""}getColorName(i){return i&&this.colors.find(l=>l.color_id===String(i))?.Description||""}closeStepper(){this.stepperDialog=!1,this.currentStep=0,this.stepperData={asset:{},invCustlip:{}},this.submitted=!1,this.submittedInv=!1}submitStepper(){if(this.submitted=!0,this.submittedInv=!0,!this.stepperData.asset.PropertyNo?.trim()||!this.stepperData.asset.AssetName?.trim()){E.default.fire({icon:"warning",title:"Missing Asset Information",text:"Asset Property No and Asset Name are required fields.",confirmButtonColor:"#3B82F6"});return}if(!this.stepperData.invCustlip.Description?.trim()||!this.stepperData.invCustlip.Quantity||!this.stepperData.invCustlip.UoM?.trim()){E.default.fire({icon:"warning",title:"Missing InvCustlip Information",text:"InvCustlip Description, Quantity, and Unit of Measure are required fields.",confirmButtonColor:"#3B82F6"});return}this.stepperData.asset.PropertyNo||(this.stepperData.asset.PropertyNo=this.generatePropertyNo()),this.assetService.createAsset(this.stepperData.asset).subscribe({next:i=>{console.log("Asset created successfully",i),this.stepperData.invCustlip.InvNo=this.stepperData.asset.PropertyNo,this.assetService.createInvCustlip(this.stepperData.invCustlip).subscribe({next:e=>{console.log("InvCustlip created successfully",e),this.loadAssets(),this.loadInvCustlips(),this.closeStepper(),E.default.fire({icon:"success",title:"Success!",text:"Asset and InvCustlip created successfully",timer:3e3,showConfirmButton:!1})},error:e=>{console.error("Error creating InvCustlip:",e),E.default.fire({icon:"error",title:"Error",text:"Asset was created but failed to create InvCustlip. Please try again.",confirmButtonColor:"#EF4444"})}})},error:i=>{console.error("Error creating asset:",i),E.default.fire({icon:"error",title:"Error",text:"Failed to create asset. Please try again.",confirmButtonColor:"#EF4444"})}})}onRowExpand(i){console.log("Row expanded:",i.data)}onRowCollapse(i){console.log("Row collapsed:",i.data)}expandAll(){this.expandedRows={},this.assets().forEach(i=>{i.id&&(this.expandedRows[i.id]=!0)})}collapseAll(){this.expandedRows={}}getInvCustlipsForAsset(i){return!this.invCustlips||!i.PropertyNo?[]:this.invCustlips.filter(e=>e.InvNo===i.PropertyNo)}getColorCode(i){return i&&this.colors.find(l=>l.color_id===String(i))?.ColorCode||"#cccccc"}getSpecsArray(i){return i?Object.keys(i).map(e=>({key:e,value:i[e]})):[]}static \u0275fac=function(e){return new(e||o)(q(A),q(B),q(V))};static \u0275cmp=F({type:o,selectors:[["app-crud"]],viewQuery:function(e,l){if(e&1&&(Y(cn,5),Y(dn,5)),e&2){let t;T(t=D())&&(l.dt=t.first),T(t=D())&&(l.custodianMenu=t.first)}},features:[z([B,A,V])],decls:41,vars:40,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],["expandedrow",""],["custodianMenu",""],["item",""],["content",""],["footer",""],["noInvCustlips",""],["styleClass","mb-6"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} assets",3,"selectionChange","onRowExpand","onRowCollapse","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","expandedRowKeys","rowsPerPageOptions"],[3,"model","popup"],["header","Create New Asset & InvCustlip",3,"visibleChange","visible","modal","closable"],["header","QR Code Viewer",3,"visibleChange","visible","modal"],["header","Request Maintenance",3,"visibleChange","visible","modal"],["header","InvCustlip Details",3,"visibleChange","visible","modal"],["label","New Asset","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["severity","secondary","label","Delete Selected","icon","pi pi-trash","outlined","",3,"onClick","disabled"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],[1,"flex","items-center","gap-2"],["label","Expand All","icon","pi pi-plus","text","",3,"onClick"],["label","Collapse All","icon","pi pi-minus","text","",3,"onClick"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search assets...",3,"input"],[2,"width","3rem"],[2,"width","4rem"],["pSortableColumn","PropertyNo",2,"min-width","10rem"],["field","PropertyNo"],["pSortableColumn","AssetName",2,"min-width","15rem"],["field","AssetName"],["pSortableColumn","Category",2,"min-width","10rem"],["field","Category"],["pSortableColumn","FoundCluster",2,"min-width","12rem"],["field","FoundCluster"],["pSortableColumn","IssuedTo",2,"min-width","12rem"],["field","IssuedTo"],["pSortableColumn","Status_id",2,"min-width","10rem"],["field","Status_id"],["pSortableColumn","DateAcquired",2,"min-width","10rem"],["field","DateAcquired"],[2,"min-width","8rem"],[2,"min-width","10rem"],[2,"cursor","pointer","position","relative",3,"click","ngClass"],[2,"width","3rem",3,"click"],[3,"value"],[2,"width","4rem",3,"click"],["type","button","pRipple","","severity","secondary","pTooltip","Click to view InvCustlips details",3,"pRowToggler","text","rounded","icon"],[1,"flex","align-items-center","gap-2"],["class","pi pi-users text-primary cursor-pointer","pTooltip","Click row to assign custodian",4,"ngIf"],["class","pi pi-user-edit text-orange-500 cursor-pointer","pTooltip","Click row to change custodian",4,"ngIf"],[3,"value","severity"],[3,"click"],["alt","QR Code","class","w-8 h-8 rounded border cursor-pointer hover:opacity-75 transition-opacity","pTooltip","Click to view QR Code",3,"src","click",4,"ngIf"],[1,"text-muted-color","text-sm"],["icon","pi pi-wrench","severity","success","pTooltip","Request repair",3,"click","rounded","outlined"],["icon","pi pi-pencil","pTooltip","Edit Asset",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger","pTooltip","Delete Asset",3,"click","rounded","outlined"],["pTooltip","Click row to assign custodian",1,"pi","pi-users","text-primary","cursor-pointer"],["pTooltip","Click row to change custodian",1,"pi","pi-user-edit","text-orange-500","cursor-pointer"],["alt","QR Code","pTooltip","Click to view QR Code",1,"w-8","h-8","rounded","border","cursor-pointer","hover:opacity-75","transition-opacity",3,"click","src"],["colspan","11"],[1,"p-4",2,"background-color","var(--surface-50)"],[1,"mb-3","text-primary"],[1,"pi","pi-list","mr-2"],[4,"ngIf","ngIfElse"],[1,"grid","gap-4"],["class","col-12 md:col-6 lg:col-4",4,"ngFor","ngForOf"],[1,"col-12","md:col-6","lg:col-4"],[1,"card","border-1","border-gray-200","h-full"],[1,"card-header","bg-primary-50","p-3","border-bottom-1","border-200"],[1,"m-0","text-primary","font-semibold"],[1,"pi","pi-box","mr-2"],[1,"card-body","p-3"],[1,"grid","gap-2","text-sm"],[1,"col-12"],[1,"col-6"],[1,"inline-flex","align-items-center","gap-1"],[1,"w-1rem","h-1rem","border-circle","border-1","border-gray-300"],["class","col-12",4,"ngIf"],["class","ml-2 mt-1",4,"ngFor","ngForOf"],[1,"ml-2","mt-1"],[1,"text-600"],[1,"text-center","p-4"],[1,"pi","pi-info-circle","text-4xl","text-500","mb-3"],[1,"text-600","m-0"],[1,"flex","align-items-center","gap-2","p-2",3,"ngClass"],[3,"class",4,"ngIf"],[1,"flex","flex-column"],[1,"font-semibold"],["class","text-600",4,"ngIf"],[1,"flex","justify-content-center","mb-4"],[1,"flex","align-items-center"],[1,"flex","align-items-center","justify-content-center","w-3rem","h-3rem","border-circle",3,"ngClass"],[1,"w-6rem","h-2px",3,"ngClass"],[3,"ngSwitch"],["class","step-content",4,"ngSwitchCase"],[1,"step-content"],[1,"grid","grid-cols-12","gap-4","mt-4"],[1,"col-span-6"],["for","stepperPropertyNo",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperPropertyNo","required","","autofocus","","fluid","",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","stepperCategory",1,"block","font-bold","mb-2"],["inputId","stepperCategory","optionLabel","label","optionValue","value","placeholder","Select Category","fluid","",3,"ngModelChange","ngModel","options"],[1,"col-span-12"],["for","stepperAssetName",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperAssetName","required","","fluid","",3,"ngModelChange","ngModel"],["for","stepperFoundCluster",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperFoundCluster","fluid","",3,"ngModelChange","ngModel"],["for","stepperLocationId",1,"block","font-bold","mb-2"],["id","stepperLocationId","optionLabel","LocationName","optionValue","id","placeholder","Select a location","fluid","",3,"ngModelChange","ngModel","options"],["for","stepperSupplierId",1,"block","font-bold","mb-2"],["id","stepperSupplierId","optionLabel","SupplierName","optionValue","id","placeholder","Select a supplier","fluid","",3,"ngModelChange","ngModel","options"],["for","stepperProgramId",1,"block","font-bold","mb-2"],["id","stepperProgramId","optionLabel","ProgramName","optionValue","id","placeholder","Select a program","fluid","",3,"ngModelChange","ngModel","options"],["for","stepperPurpose",1,"block","font-bold","mb-2"],["id","stepperPurpose","pTextarea","","rows","3","fluid","",3,"ngModelChange","ngModel"],["for","stepperDateAcquired",1,"block","font-bold","mb-2"],["type","date","pInputText","","id","stepperDateAcquired","fluid","",3,"ngModelChange","ngModel"],["for","stepperIssuedTo",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperIssuedTo","fluid","",3,"ngModelChange","ngModel"],["for","stepperStatus",1,"block","font-bold","mb-2"],["inputId","stepperStatus","optionLabel","StatusName","optionValue","id","placeholder","Select Status","fluid","",3,"ngModelChange","ngModel","options"],["for","stepperActive",1,"block","font-bold","mb-2"],["inputId","stepperActive","optionLabel","label","optionValue","value","placeholder","Select","fluid","",3,"ngModelChange","ngModel","options"],[1,"block","font-bold","mb-2"],["mode","basic","name","qrcode[]","accept","image/*","chooseLabel","Choose QR Code Image",3,"onSelect","maxFileSize","auto"],["class","mt-3",4,"ngIf"],[1,"text-red-500"],[1,"mt-3"],["alt","QR Code Preview",1,"w-24","h-24","border","rounded",3,"src"],["icon","pi pi-times","severity","danger","size","small","pTooltip","Remove QR Code",1,"ml-2",3,"onClick"],["for","stepperQuantity",1,"block","font-bold","mb-2"],["type","number","pInputText","","id","stepperQuantity","required","","fluid","",3,"ngModelChange","ngModel"],["for","stepperUom",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperUom","required","","fluid","",3,"ngModelChange","ngModel"],["for","stepperColorId",1,"block","font-bold","mb-2"],["id","stepperColorId","optionLabel","Description","optionValue","color_id","placeholder","Select a color","fluid","",3,"ngModelChange","ngModel","options"],["for","stepperDescription",1,"block","font-bold","mb-2"],["id","stepperDescription","pTextarea","","rows","3","required","","fluid","",3,"ngModelChange","ngModel"],["for","stepperBrandId",1,"block","font-bold","mb-2"],["id","stepperBrandId","optionLabel","BrandName","optionValue","brand_id","placeholder","Select a brand","fluid","",3,"ngModelChange","ngModel","options"],["for","stepperHeight",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperHeight","fluid","",3,"ngModelChange","ngModel"],["for","stepperWidth",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperWidth","fluid","",3,"ngModelChange","ngModel"],["for","stepperPackage",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperPackage","fluid","",3,"ngModelChange","ngModel"],["for","stepperMaterial",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperMaterial","fluid","",3,"ngModelChange","ngModel"],["for","stepperInvNo",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","stepperInvNo","fluid","",3,"ngModelChange","ngModel"],["for","stepperInvDateAcquired",1,"block","font-bold","mb-2"],["type","date","pInputText","","id","stepperInvDateAcquired","fluid","",3,"ngModelChange","ngModel"],[1,"mt-4"],[1,"text-xl","font-bold","mb-4"],[1,"mb-6"],[1,"text-lg","font-semibold","mb-3","text-primary"],[1,"grid","grid-cols-12","gap-2","text-sm"],["class","col-span-12",4,"ngIf"],[1,"mb-4"],[1,"mt-2"],["alt","QR Code",1,"w-20","h-20","border","rounded",3,"src"],[1,"flex","justify-between","w-full"],["label","Cancel","icon","pi pi-times","severity","secondary","text","",3,"click"],[1,"flex","gap-2"],["label","Back","severity","secondary","icon","pi pi-arrow-left",3,"onClick",4,"ngIf"],["label","Next","icon","pi pi-arrow-right","iconPos","right",3,"onClick",4,"ngIf"],["label","Submit","icon","pi pi-check",3,"onClick",4,"ngIf"],["label","Back","severity","secondary","icon","pi pi-arrow-left",3,"onClick"],["label","Next","icon","pi pi-arrow-right","iconPos","right",3,"onClick"],["label","Submit","icon","pi pi-check",3,"onClick"],[1,"text-center"],["alt","QR Code",1,"max-w-full","h-auto","border","rounded","shadow-lg",3,"src"],["label","Close","icon","pi pi-times",3,"click"],["label","Download","icon","pi pi-download","severity","secondary",3,"click"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12","mb-4"],[1,"text-lg","font-semibold","text-primary"],[1,"surface-50","p-3","border-round"],["for","requestDate",1,"block","font-bold","mb-2"],["type","date","pInputText","","id","requestDate","required","","fluid","",3,"ngModelChange","ngModel"],["for","priority",1,"block","font-bold","mb-2"],["id","priority","optionLabel","label","optionValue","value","placeholder","Select Priority","fluid","",3,"ngModelChange","ngModel","options"],["for","issueDescription",1,"block","font-bold","mb-2"],["id","issueDescription","pTextarea","","rows","4","required","","fluid","","placeholder","Describe the issue in detail...",3,"ngModelChange","ngModel"],["for","requestedBy",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","requestedBy","required","","fluid","","readonly","",3,"ngModelChange","ngModel"],["label","Submit Request","icon","pi pi-check",3,"click"],["for","quantity",1,"block","font-bold","mb-2"],["type","number","pInputText","","id","quantity","required","","fluid","",3,"ngModelChange","ngModel"],["for","uom",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","uom","required","","fluid","",3,"ngModelChange","ngModel"],["for","colorId",1,"block","font-bold","mb-2"],["id","colorId","optionLabel","Description","optionValue","color_id","placeholder","Select a color","fluid","",3,"ngModelChange","ngModel","options"],["for","description",1,"block","font-bold","mb-2"],["id","description","pTextarea","","rows","3","fluid","","required","",3,"ngModelChange","ngModel"],["for","brandId",1,"block","font-bold","mb-2"],["id","brandId","optionLabel","BrandName","optionValue","brand_id","placeholder","Select a brand","fluid","",3,"ngModelChange","ngModel","options"],["for","height",1,"block","font-bold","mb-2"],["type","number","pInputText","","id","height","step","0.01","fluid","",3,"ngModelChange","ngModel"],["for","width",1,"block","font-bold","mb-2"],["type","number","pInputText","","id","width","step","0.01","fluid","",3,"ngModelChange","ngModel"],["for","package",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","package","fluid","",3,"ngModelChange","ngModel"],["for","material",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","material","fluid","",3,"ngModelChange","ngModel"],["for","invNo",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","invNo","fluid","",3,"ngModelChange","ngModel"],["for","dateAcquiredInv",1,"block","font-bold","mb-2"],["type","date","pInputText","","id","dateAcquiredInv","fluid","",3,"ngModelChange","ngModel"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,l){if(e&1){let t=y();g(0,"p-toast"),r(1,"p-toolbar",12),C(2,vn,2,1,"ng-template",null,0,S)(4,yn,1,0,"ng-template",null,1,S),n(),r(6,"p-table",13,2),x("selectionChange",function(_){return d(t),h(l.selectedAssets,_)||(l.selectedAssets=_),m(_)}),b("onRowExpand",function(_){return d(t),m(l.onRowExpand(_))})("onRowCollapse",function(_){return d(t),m(l.onRowCollapse(_))}),C(8,Sn,9,0,"ng-template",null,3,S)(10,wn,29,0,"ng-template",null,4,S)(12,Dn,31,27,"ng-template",null,5,S)(14,Pn,9,3,"ng-template",null,6,S),n(),r(16,"p-menu",14,7),C(18,Wn,6,4,"ng-template",null,8,S),n(),r(20,"p-dialog",15),x("visibleChange",function(_){return d(t),h(l.stepperDialog,_)||(l.stepperDialog=_),m(_)}),C(21,Kn,11,24,"ng-template",null,9,S)(23,$n,6,3,"ng-template",null,10,S),n(),r(25,"p-dialog",16),x("visibleChange",function(_){return d(t),h(l.qrCodeViewerDialog,_)||(l.qrCodeViewerDialog=_),m(_)}),C(26,er,2,1,"ng-template",null,9,S)(28,tr,2,0,"ng-template",null,10,S),n(),r(30,"p-dialog",17),x("visibleChange",function(_){return d(t),h(l.maintenanceRequestDialog,_)||(l.maintenanceRequestDialog=_),m(_)}),C(31,or,36,11,"ng-template",null,9,S)(33,ar,2,0,"ng-template",null,10,S),n(),r(35,"p-dialog",18),x("visibleChange",function(_){return d(t),h(l.invCustlipDialog,_)||(l.invCustlipDialog=_),m(_)}),C(36,cr,48,16,"ng-template",null,9,S)(38,dr,2,0,"ng-template",null,10,S),n(),g(40,"p-confirmdialog")}e&2&&(p(6),u("value",l.assets())("rows",10)("columns",l.cols)("paginator",!0)("globalFilterFields",M(32,mn))("tableStyle",M(33,un)),f("selection",l.selectedAssets),u("rowHover",!0)("showCurrentPageReport",!0)("expandedRowKeys",l.expandedRows)("rowsPerPageOptions",M(34,_n)),p(10),u("model",l.custodianMenuItems)("popup",!0),p(4),R(M(35,gn)),f("visible",l.stepperDialog),u("modal",!0)("closable",!1),p(5),R(M(36,Cn)),f("visible",l.qrCodeViewerDialog),u("modal",!0),p(5),R(M(37,fn)),f("visible",l.maintenanceRequestDialog),u("modal",!0),p(5),R(M(38,hn)),f("visible",l.invCustlipDialog),u("modal",!0),p(5),R(M(39,xn)))},dependencies:[O,Ge,qt,G,Rt,Vt,Te,Se,we,Qt,Ee,Ie,Me,pe,oe,Je,ae,le,se,de,Z,ce,Lt,qe,De,Ve,Re,ue,me,Ae,ke,ye,ve,_e,K,Pe,Xe,be,xe,Ut,Ot,he,fe,We,ee,Be,jt,Ce,ge,At],styles:[".row-clickable[_ngcontent-%COMP%]:hover{background-color:var(--highlight-bg)!important;transition:background-color .2s}.row-selected[_ngcontent-%COMP%]{background-color:var(--primary-color-text)!important;color:var(--primary-color)!important}.current-custodian[_ngcontent-%COMP%]{background-color:var(--green-50)!important;color:var(--green-800)!important}.unassign-option[_ngcontent-%COMP%]{color:var(--red-600)!important}.p-menu[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:hover   .current-custodian[_ngcontent-%COMP%]{background-color:var(--green-100)!important}.p-menu[_ngcontent-%COMP%]   .p-menuitem-link[_ngcontent-%COMP%]:hover   .unassign-option[_ngcontent-%COMP%]{background-color:var(--red-50)!important}"]})};var j=et(lt());var mr=["dt"],ur=()=>["Description","InvNo","UoM"],_r=()=>[10,20,30],gr=()=>({width:"800px"}),Cr=()=>({width:"450px"});function fr(o,i){if(o&1){let e=y();r(0,"p-button",11),b("onClick",function(){d(e);let t=c();return m(t.openNew())}),n(),r(1,"p-button",12),b("onClick",function(){d(e);let t=c();return m(t.deleteSelectedInvCustlips())}),n()}if(o&2){let e=c();p(),u("disabled",!e.selectedInvCustlips||!e.selectedInvCustlips.length)}}function hr(o,i){if(o&1){let e=y();r(0,"p-button",13),b("onClick",function(){d(e);let t=c();return m(t.exportCSV())}),n()}}function xr(o,i){if(o&1){let e=y();r(0,"div",14)(1,"h5",15),a(2,"Custodian"),n(),r(3,"p-iconfield"),g(4,"p-inputicon",16),r(5,"input",17),b("input",function(t){d(e);let s=c(),_=J(7);return m(s.onGlobalFilter(_,t))}),n()()()}}function br(o,i){o&1&&(r(0,"tr")(1,"th",18),g(2,"p-tableHeaderCheckbox"),n(),r(3,"th",19),a(4," Inventory No "),g(5,"p-sortIcon",20),n(),r(6,"th",21),a(7," Description "),g(8,"p-sortIcon",22),n(),r(9,"th",23),a(10," Quantity "),g(11,"p-sortIcon",24),n(),r(12,"th",25),a(13," UoM "),g(14,"p-sortIcon",26),n(),r(15,"th",27),a(16," Brand "),g(17,"p-sortIcon",28),n(),r(18,"th",29),a(19," Color "),g(20,"p-sortIcon",30),n(),r(21,"th",31),a(22," Date Acquired "),g(23,"p-sortIcon",32),n(),r(24,"th",33),a(25,"Actions"),n()())}function vr(o,i){if(o&1){let e=y();r(0,"tr")(1,"td",18),g(2,"p-tableCheckbox",34),n(),r(3,"td",35),g(4,"span",36),a(5),n(),r(6,"td",37),g(7,"span",36),a(8),n(),r(9,"td",38),g(10,"span",36),a(11),n(),r(12,"td",39),g(13,"span",36),a(14),n(),r(15,"td",35),g(16,"span",36),a(17),n(),r(18,"td",35),g(19,"span",36),a(20),n(),r(21,"td",40),g(22,"span",36),a(23),n(),r(24,"td")(25,"div",41)(26,"p-button",42),b("click",function(){let t=d(e).$implicit,s=c();return m(s.editInvCustlip(t))}),n(),r(27,"p-button",43),b("click",function(){let t=d(e).$implicit,s=c();return m(s.deleteInvCustlip(t))}),n()()()()}if(o&2){let e=i.$implicit,l=c();p(2),u("value",e),p(3),v(" ",e.InvNo," "),p(3),v(" ",e.Description," "),p(3),v(" ",e.Quantity," "),p(3),v(" ",e.UoM," "),p(3),v(" ",l.getBrandName(e.brand_id)," "),p(3),v(" ",l.getColorName(e.color_id)," "),p(3),v(" ",e.DateAcquired," "),p(3),u("rounded",!0)("outlined",!0),p(),u("rounded",!0)("outlined",!0)}}function yr(o,i){o&1&&(r(0,"small",70),a(1,"Quantity is required."),n())}function Sr(o,i){o&1&&(r(0,"small",70),a(1,"Unit of Measure is required."),n())}function wr(o,i){o&1&&(r(0,"small",70),a(1,"Description is required."),n())}function Er(o,i){if(o&1){let e=y();r(0,"div",44)(1,"div",45)(2,"label",46),a(3,"Quantity"),n(),r(4,"input",47),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.Quantity,t)||(s.invCustlip.Quantity=t),m(t)}),n(),C(5,yr,2,0,"small",48),n(),r(6,"div",45)(7,"label",49),a(8,"Unit of Measure"),n(),r(9,"input",50),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.UoM,t)||(s.invCustlip.UoM=t),m(t)}),n(),C(10,Sr,2,0,"small",48),n(),r(11,"div",45)(12,"label",51),a(13,"Color"),n(),r(14,"p-select",52),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.color_id,t)||(s.invCustlip.color_id=t),m(t)}),n()(),r(15,"div",53)(16,"label",54),a(17,"Description"),n(),r(18,"textarea",55),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.Description,t)||(s.invCustlip.Description=t),m(t)}),n(),C(19,wr,2,0,"small",48),n(),r(20,"div",45)(21,"label",56),a(22,"Brand"),n(),r(23,"p-select",57),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.brand_id,t)||(s.invCustlip.brand_id=t),m(t)}),n()(),r(24,"div",45)(25,"label",58),a(26,"Height"),n(),r(27,"input",59),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.height,t)||(s.invCustlip.height=t),m(t)}),n()(),r(28,"div",45)(29,"label",60),a(30,"Width"),n(),r(31,"input",61),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.width,t)||(s.invCustlip.width=t),m(t)}),n()(),r(32,"div",45)(33,"label",62),a(34,"Package"),n(),r(35,"input",63),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.package,t)||(s.invCustlip.package=t),m(t)}),n()(),r(36,"div",45)(37,"label",64),a(38,"Material"),n(),r(39,"input",65),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.material,t)||(s.invCustlip.material=t),m(t)}),n()(),r(40,"div",45)(41,"label",66),a(42,"Inventory No"),n(),r(43,"input",67),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.InvNo,t)||(s.invCustlip.InvNo=t),m(t)}),n()(),r(44,"div",45)(45,"label",68),a(46,"Date Acquired"),n(),r(47,"input",69),x("ngModelChange",function(t){d(e);let s=c();return h(s.invCustlip.DateAcquired,t)||(s.invCustlip.DateAcquired=t),m(t)}),n()()()}if(o&2){let e=c();p(4),f("ngModel",e.invCustlip.Quantity),p(),u("ngIf",e.submitted&&!e.invCustlip.Quantity),p(4),f("ngModel",e.invCustlip.UoM),p(),u("ngIf",e.submitted&&!e.invCustlip.UoM),p(4),f("ngModel",e.invCustlip.color_id),u("options",e.colors),p(4),f("ngModel",e.invCustlip.Description),p(),u("ngIf",e.submitted&&!e.invCustlip.Description),p(4),f("ngModel",e.invCustlip.brand_id),u("options",e.brands),p(4),f("ngModel",e.invCustlip.height),p(4),f("ngModel",e.invCustlip.width),p(4),f("ngModel",e.invCustlip.package),p(4),f("ngModel",e.invCustlip.material),p(4),f("ngModel",e.invCustlip.InvNo),p(4),f("ngModel",e.invCustlip.DateAcquired)}}function Ir(o,i){if(o&1){let e=y();r(0,"p-button",71),b("click",function(){d(e);let t=c();return m(t.hideDialog())}),n(),r(1,"p-button",72),b("click",function(){d(e);let t=c();return m(t.saveInvCustlip())}),n()}}var ci=class o{constructor(i,e,l){this.assetService=i;this.messageService=e;this.confirmationService=l}invCustlipDialog=!1;invCustlips=ie([]);invCustlip={};selectedInvCustlips=null;submitted=!1;statuses=[];categories=[];activeOptions=[];colors=[];brands=[];dt;exportColumns;cols;exportCSV(){this.dt.exportCSV()}ngOnInit(){this.loadInvCustlips(),this.loadReferenceData(),this.cols=[{field:"InvNo",header:"Invoice No"},{field:"Description",header:"Description"},{field:"Quantity",header:"Quantity"},{field:"UoM",header:"Unit"},{field:"brand_id",header:"Brand"},{field:"color_id",header:"Color"},{field:"DateAcquired",header:"Date Acquired"}],this.exportColumns=this.cols.map(i=>({title:i.header,dataKey:i.field}))}loadInvCustlips(){this.assetService.getInvCustlips().subscribe({next:i=>{this.invCustlips.set(i)},error:i=>{console.error("Error loading InvCustlips:",i),j.default.fire({icon:"error",title:"Error",text:"Failed to load InvCustlips. Please try again.",confirmButtonColor:"#EF4444"})}})}initializeDropdowns(){this.statuses=[{label:"ACTIVE",value:"ACTIVE"},{label:"MAINTENANCE",value:"MAINTENANCE"},{label:"DISPOSED",value:"DISPOSED"},{label:"LOST",value:"LOST"}],this.categories=[{label:"IT Equipment",value:"IT Equipment"},{label:"Furniture",value:"Furniture"},{label:"Vehicle",value:"Vehicle"},{label:"Office Supplies",value:"Office Supplies"},{label:"Tools",value:"Tools"}],this.activeOptions=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],this.loadReferenceData(),this.cols=[{field:"InvNo",header:"Invoice No"},{field:"Description",header:"Description"},{field:"Quantity",header:"Quantity"},{field:"UoM",header:"Unit"},{field:"brand_id",header:"Brand"},{field:"color_id",header:"Color"},{field:"DateAcquired",header:"Date Acquired"}],this.exportColumns=this.cols.map(i=>({title:i.header,dataKey:i.field}))}loadReferenceData(){this.assetService.getColors().subscribe({next:i=>{this.colors=i},error:i=>{console.error("Error loading colors:",i)}}),this.assetService.getBrands().subscribe({next:i=>{this.brands=i},error:i=>{console.error("Error loading brands:",i)}})}onGlobalFilter(i,e){i.filterGlobal(e.target.value,"contains")}openNew(){this.invCustlip={specs:{}},this.submitted=!1,this.invCustlipDialog=!0}editInvCustlip(i){this.invCustlip=H({},i),this.invCustlip.specs||(this.invCustlip.specs={}),this.invCustlipDialog=!0}deleteSelectedInvCustlips(){!this.selectedInvCustlips||this.selectedInvCustlips.length===0||this.confirmationService.confirm({message:"Are you sure you want to delete the selected InvCustlips?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{let i=this.selectedInvCustlips.map(e=>this.assetService.deleteInvCustlip(e.inv_custlip_id).toPromise());Promise.all(i).then(()=>{this.loadInvCustlips(),this.selectedInvCustlips=null,j.default.fire({icon:"success",title:"Success!",text:"InvCustlips deleted successfully",timer:2e3,showConfirmButton:!1})}).catch(e=>{console.error("Error deleting InvCustlips:",e),j.default.fire({icon:"error",title:"Error",text:"Failed to delete InvCustlips. Please try again.",confirmButtonColor:"#EF4444"})})}})}hideDialog(){this.invCustlipDialog=!1,this.submitted=!1}deleteInvCustlip(i){this.confirmationService.confirm({message:"Are you sure you want to delete "+i.Description+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.assetService.deleteInvCustlip(i.inv_custlip_id).subscribe({next:()=>{this.loadInvCustlips(),this.invCustlip={specs:{}},j.default.fire({icon:"success",title:"Success!",text:"InvCustlip deleted successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error deleting InvCustlip:",e),j.default.fire({icon:"error",title:"Error",text:"Failed to delete InvCustlip. Please try again.",confirmButtonColor:"#EF4444"})}})}})}generatePropertyNo(){let i="PROP",e=new Date().getTime().toString().slice(-6);return i+e}getBrandName(i){return i&&this.brands.find(l=>l.brand_id===String(i))?.BrandName||""}getColorName(i){return i&&this.colors.find(l=>l.color_id===String(i))?.Description||""}generateQrCode(){let i=new Date().getTime().toString();return"QR"+Math.random().toString(36).substring(2,8).toUpperCase()+i.slice(-4)}getStatusSeverity(i){switch(i){case"ACTIVE":return"success";case"MAINTENANCE":return"warn";case"DISPOSED":return"danger";case"LOST":return"danger";default:return"info"}}saveInvCustlip(){if(this.submitted=!0,!this.invCustlip.Description?.trim()){j.default.fire({icon:"warning",title:"Missing Information",text:"Description is required.",confirmButtonColor:"#3B82F6"});return}(this.invCustlip.inv_custlip_id?this.assetService.updateInvCustlip(this.invCustlip.inv_custlip_id,this.invCustlip):this.assetService.createInvCustlip(this.invCustlip)).subscribe({next:()=>{this.loadInvCustlips(),this.invCustlipDialog=!1,this.invCustlip={specs:{}},this.submitted=!1,j.default.fire({icon:"success",title:"Success!",text:this.invCustlip.inv_custlip_id?"InvCustlip updated successfully":"InvCustlip created successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error saving InvCustlip:",e),j.default.fire({icon:"error",title:"Error",text:"Failed to save InvCustlip. Please try again.",confirmButtonColor:"#EF4444"})}})}static \u0275fac=function(e){return new(e||o)(q(A),q(B),q(V))};static \u0275cmp=F({type:o,selectors:[["app-custodian"]],viewQuery:function(e,l){if(e&1&&Y(mr,5),e&2){let t;T(t=D())&&(l.dt=t.first)}},features:[z([B,A,V])],decls:19,vars:19,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["content",""],["footer",""],["styleClass","mb-6"],["responsiveLayout","stack","breakpoint","960px","dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} assets","styleClass","p-datatable-customers",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","body"],["header","InvCustlip Details",3,"visibleChange","visible","modal"],["label","New Asset","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["severity","secondary","label","Delete Selected","icon","pi pi-trash","outlined","",3,"onClick","disabled"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search assets...",3,"input"],[2,"width","3rem"],["pSortableColumn","InvNo",2,"min-width","10rem"],["field","InvNo"],["pSortableColumn","Description",2,"min-width","15rem"],["field","Description"],["pSortableColumn","Quantity",2,"min-width","10rem"],["field","Quantity"],["pSortableColumn","UoM",2,"min-width","8rem"],["field","UoM"],["pSortableColumn","brand_id",2,"min-width","10rem"],["field","brand_id"],["pSortableColumn","color_id",2,"min-width","10rem"],["field","color_id"],["pSortableColumn","DateAcquired",2,"min-width","10rem"],["field","DateAcquired"],[2,"min-width","10rem"],[3,"value"],[2,"width","12%","min-width","10rem"],[1,"p-column-title"],[2,"width","14%","min-width","15rem"],[2,"width","12%","min-width","8rem"],[2,"width","10%","min-width","8rem"],[2,"width","14%","min-width","10rem"],[1,"flex","align-items-center","gap-2"],["icon","pi pi-pencil","pTooltip","Edit InvCustlip",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger","pTooltip","Delete InvCustlip",3,"click","rounded","outlined"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-6"],["for","quantity",1,"block","font-bold","mb-2"],["type","number","pInputText","","id","quantity","required","","fluid","",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","uom",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","uom","required","","fluid","",3,"ngModelChange","ngModel"],["for","colorId",1,"block","font-bold","mb-2"],["id","colorId","optionLabel","Description","optionValue","color_id","placeholder","Select a color","fluid","",3,"ngModelChange","ngModel","options"],[1,"col-span-12"],["for","description",1,"block","font-bold","mb-2"],["id","description","pTextarea","","rows","3","fluid","","required","",3,"ngModelChange","ngModel"],["for","brandId",1,"block","font-bold","mb-2"],["id","brandId","optionLabel","BrandName","optionValue","brand_id","placeholder","Select a brand","fluid","",3,"ngModelChange","ngModel","options"],["for","height",1,"block","font-bold","mb-2"],["type","number","pInputText","","id","height","step","0.01","fluid","",3,"ngModelChange","ngModel"],["for","width",1,"block","font-bold","mb-2"],["type","number","pInputText","","id","width","step","0.01","fluid","",3,"ngModelChange","ngModel"],["for","package",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","package","fluid","",3,"ngModelChange","ngModel"],["for","material",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","material","fluid","",3,"ngModelChange","ngModel"],["for","invNo",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","invNo","fluid","",3,"ngModelChange","ngModel"],["for","dateAcquiredInv",1,"block","font-bold","mb-2"],["type","date","pInputText","","id","dateAcquiredInv","fluid","",3,"ngModelChange","ngModel"],[1,"text-red-500"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,l){if(e&1){let t=y();g(0,"p-toast"),r(1,"p-toolbar",7),C(2,fr,2,1,"ng-template",null,0,S)(4,hr,1,0,"ng-template",null,1,S),n(),r(6,"p-table",8,2),x("selectionChange",function(_){return d(t),h(l.selectedInvCustlips,_)||(l.selectedInvCustlips=_),m(_)}),C(8,xr,6,0,"ng-template",null,3,S)(10,br,26,0,"ng-template",null,4,S)(12,vr,28,12,"ng-template",9),n(),r(13,"p-dialog",10),x("visibleChange",function(_){return d(t),h(l.invCustlipDialog,_)||(l.invCustlipDialog=_),m(_)}),C(14,Er,48,16,"ng-template",null,5,S)(16,Ir,2,0,"ng-template",null,6,S),n(),g(18,"p-confirmdialog")}e&2&&(p(6),u("value",l.invCustlips())("rows",10)("columns",l.cols)("paginator",!0)("globalFilterFields",M(15,ur)),f("selection",l.selectedInvCustlips),u("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",M(16,_r)),p(7),R(M(17,gr)),f("visible",l.invCustlipDialog),u("modal",!0),p(5),R(M(18,Cr)))},dependencies:[O,G,Te,Se,re,we,Ee,Ie,Me,pe,oe,Je,ae,le,se,de,Z,ce,qe,De,Ve,Re,ue,me,Ae,ke,ye,ve,_e,K,Pe,be,xe,he,fe,We,ee,Be,Ce,ge],encapsulation:2})};var U=et(lt());var Mr=["dt"],Tr=()=>["IssueDescription","RequestedBy","Status","Priority"],Dr=()=>[10,20,30],qr=()=>({width:"600px"}),Rr=()=>({width:"450px"});function Vr(o,i){if(o&1){let e=y();r(0,"p-button",11),b("onClick",function(){d(e);let t=c();return m(t.openNew())}),n(),r(1,"p-button",12),b("onClick",function(){d(e);let t=c();return m(t.deleteSelectedRequests())}),n()}if(o&2){let e=c();p(),u("disabled",!e.selectedRequests||!e.selectedRequests.length)}}function kr(o,i){if(o&1){let e=y();r(0,"p-button",13),b("onClick",function(){d(e);let t=c();return m(t.exportCSV())}),n()}}function Ar(o,i){if(o&1){let e=y();r(0,"div",14)(1,"h5",15),a(2,"Maintenance Requests"),n(),r(3,"p-iconfield"),g(4,"p-inputicon",16),r(5,"input",17),b("input",function(t){d(e);let s=c(),_=J(7);return m(s.onGlobalFilter(_,t))}),n()()()}}function Pr(o,i){o&1&&(r(0,"tr")(1,"th",18),g(2,"p-tableHeaderCheckbox"),n(),r(3,"th",19),a(4," Asset ID "),g(5,"p-sortIcon",20),n(),r(6,"th",21),a(7," Request Date "),g(8,"p-sortIcon",22),n(),r(9,"th",23),a(10," Issue Description "),g(11,"p-sortIcon",24),n(),r(12,"th",25),a(13," Requested By "),g(14,"p-sortIcon",26),n(),r(15,"th",27),a(16," Status "),g(17,"p-sortIcon",28),n(),r(18,"th",29),a(19," Priority "),g(20,"p-sortIcon",30),n(),r(21,"th",31),a(22,"Actions"),n()())}function Br(o,i){if(o&1){let e=y();r(0,"tr")(1,"td",18),g(2,"p-tableCheckbox",32),n(),r(3,"td",33),g(4,"span",34),a(5),n(),r(6,"td",33),g(7,"span",34),a(8),n(),r(9,"td",35),g(10,"span",34),a(11),n(),r(12,"td",33),g(13,"span",34),a(14),n(),r(15,"td",36),g(16,"span",34)(17,"p-tag",37),n(),r(18,"td",36),g(19,"span",34)(20,"p-tag",37),n(),r(21,"td")(22,"div",38)(23,"p-button",39),b("click",function(){let t=d(e).$implicit,s=c();return m(s.editRequest(t))}),n(),r(24,"p-button",40),b("click",function(){let t=d(e).$implicit,s=c();return m(s.deleteRequest(t))}),n()()()()}if(o&2){let e=i.$implicit,l=c();p(2),u("value",e),p(3),v(" ",e.assets_id," "),p(3),v(" ",e.RequestDate," "),p(3),v(" ",e.IssueDescription," "),p(3),v(" ",e.RequestedBy," "),p(3),u("value",e.Status)("severity",l.getStatusSeverity(e.Status)),p(3),u("value",e.Priority)("severity",l.getPrioritySeverity(e.Priority)),p(3),u("rounded",!0)("outlined",!0),p(),u("rounded",!0)("outlined",!0)}}function Nr(o,i){o&1&&(r(0,"small",57),a(1,"Asset ID is required."),n())}function Wr(o,i){o&1&&(r(0,"small",57),a(1,"Request Date is required."),n())}function Fr(o,i){o&1&&(r(0,"small",57),a(1,"Requested By is required."),n())}function Lr(o,i){o&1&&(r(0,"small",57),a(1,"Issue Description is required."),n())}function Or(o,i){if(o&1){let e=y();r(0,"div",41)(1,"div",42)(2,"label",43),a(3,"Asset ID"),n(),r(4,"input",44),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.assets_id,t)||(s.maintenanceRequest.assets_id=t),m(t)}),n(),C(5,Nr,2,0,"small",45),n(),r(6,"div",46)(7,"label",47),a(8,"Request Date"),n(),r(9,"input",48),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.RequestDate,t)||(s.maintenanceRequest.RequestDate=t),m(t)}),n(),C(10,Wr,2,0,"small",45),n(),r(11,"div",46)(12,"label",49),a(13,"Requested By"),n(),r(14,"input",50),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.RequestedBy,t)||(s.maintenanceRequest.RequestedBy=t),m(t)}),n(),C(15,Fr,2,0,"small",45),n(),r(16,"div",42)(17,"label",51),a(18,"Issue Description"),n(),r(19,"textarea",52),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.IssueDescription,t)||(s.maintenanceRequest.IssueDescription=t),m(t)}),n(),C(20,Lr,2,0,"small",45),n(),r(21,"div",46)(22,"label",53),a(23,"Status"),n(),r(24,"p-select",54),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.Status,t)||(s.maintenanceRequest.Status=t),m(t)}),n()(),r(25,"div",46)(26,"label",55),a(27,"Priority"),n(),r(28,"p-select",56),x("ngModelChange",function(t){d(e);let s=c();return h(s.maintenanceRequest.Priority,t)||(s.maintenanceRequest.Priority=t),m(t)}),n()()()}if(o&2){let e=c();p(4),f("ngModel",e.maintenanceRequest.assets_id),p(),u("ngIf",e.submitted&&!e.maintenanceRequest.assets_id),p(4),f("ngModel",e.maintenanceRequest.RequestDate),p(),u("ngIf",e.submitted&&!e.maintenanceRequest.RequestDate),p(4),f("ngModel",e.maintenanceRequest.RequestedBy),p(),u("ngIf",e.submitted&&!e.maintenanceRequest.RequestedBy),p(4),f("ngModel",e.maintenanceRequest.IssueDescription),p(),u("ngIf",e.submitted&&!e.maintenanceRequest.IssueDescription),p(4),f("ngModel",e.maintenanceRequest.Status),u("options",e.statusOptions),p(4),f("ngModel",e.maintenanceRequest.Priority),u("options",e.priorityOptions)}}function Ur(o,i){if(o&1){let e=y();r(0,"p-button",58),b("click",function(){d(e);let t=c();return m(t.hideDialog())}),n(),r(1,"p-button",59),b("click",function(){d(e);let t=c();return m(t.saveRequest())}),n()}}var di=class o{constructor(i,e,l){this.assetService=i;this.messageService=e;this.confirmationService=l}requestDialog=!1;maintenanceRequests=ie([]);maintenanceRequest={};selectedRequests=null;submitted=!1;statusOptions=[];priorityOptions=[];dt;exportColumns;cols;exportCSV(){this.dt.exportCSV()}ngOnInit(){this.loadMaintenanceRequests(),this.initializeDropdowns(),this.cols=[{field:"assets_id",header:"Asset ID"},{field:"RequestDate",header:"Request Date"},{field:"IssueDescription",header:"Issue Description"},{field:"RequestedBy",header:"Requested By"},{field:"Status",header:"Status"},{field:"Priority",header:"Priority"}],this.exportColumns=this.cols.map(i=>({title:i.header,dataKey:i.field}))}loadMaintenanceRequests(){this.assetService.getMaintenanceRequests().subscribe({next:i=>{this.maintenanceRequests.set(i)},error:i=>{console.error("Error loading maintenance requests:",i),U.default.fire({icon:"error",title:"Error",text:"Failed to load maintenance requests. Please try again.",confirmButtonColor:"#EF4444"})}})}initializeDropdowns(){this.statusOptions=[{label:"Pending",value:"Pending"},{label:"In Progress",value:"In Progress"},{label:"Completed",value:"Completed"},{label:"Cancelled",value:"Cancelled"}],this.priorityOptions=[{label:"Low",value:"Low"},{label:"Medium",value:"Medium"},{label:"High",value:"High"},{label:"Critical",value:"Critical"}]}onGlobalFilter(i,e){i.filterGlobal(e.target.value,"contains")}openNew(){this.maintenanceRequest={},this.submitted=!1,this.requestDialog=!0}editRequest(i){this.maintenanceRequest=H({},i),this.requestDialog=!0}deleteSelectedRequests(){!this.selectedRequests||this.selectedRequests.length===0||this.confirmationService.confirm({message:"Are you sure you want to delete the selected maintenance requests?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{let i=this.selectedRequests.map(e=>this.assetService.deleteMaintenanceRequest(e.id).toPromise());Promise.all(i).then(()=>{this.loadMaintenanceRequests(),this.selectedRequests=null,U.default.fire({icon:"success",title:"Success!",text:"Maintenance requests deleted successfully",timer:2e3,showConfirmButton:!1})}).catch(e=>{console.error("Error deleting maintenance requests:",e),U.default.fire({icon:"error",title:"Error",text:"Failed to delete maintenance requests. Please try again.",confirmButtonColor:"#EF4444"})})}})}hideDialog(){this.requestDialog=!1,this.submitted=!1}deleteRequest(i){this.confirmationService.confirm({message:"Are you sure you want to delete this maintenance request?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.assetService.deleteMaintenanceRequest(i.id).subscribe({next:()=>{this.loadMaintenanceRequests(),this.maintenanceRequest={},U.default.fire({icon:"success",title:"Success!",text:"Maintenance request deleted successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error deleting maintenance request:",e),U.default.fire({icon:"error",title:"Error",text:"Failed to delete maintenance request. Please try again.",confirmButtonColor:"#EF4444"})}})}})}getStatusSeverity(i){switch(i){case"Pending":return"warn";case"In Progress":return"info";case"Completed":return"success";case"Cancelled":return"danger";default:return"info"}}getPrioritySeverity(i){switch(i){case"Low":return"success";case"Medium":return"info";case"High":return"warn";case"Critical":return"danger";default:return"info"}}saveRequest(){if(this.submitted=!0,!this.maintenanceRequest.assets_id?.trim()){U.default.fire({icon:"warning",title:"Missing Information",text:"Asset ID is required.",confirmButtonColor:"#3B82F6"});return}if(!this.maintenanceRequest.IssueDescription?.trim()){U.default.fire({icon:"warning",title:"Missing Information",text:"Issue Description is required.",confirmButtonColor:"#3B82F6"});return}(this.maintenanceRequest.id?this.assetService.updateMaintenanceRequest(this.maintenanceRequest.id,this.maintenanceRequest):this.assetService.createMaintenanceRequest(this.maintenanceRequest)).subscribe({next:()=>{this.loadMaintenanceRequests(),this.requestDialog=!1,this.maintenanceRequest={},this.submitted=!1,U.default.fire({icon:"success",title:"Success!",text:this.maintenanceRequest.id?"Maintenance request updated successfully":"Maintenance request created successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error saving maintenance request:",e),U.default.fire({icon:"error",title:"Error",text:"Failed to save maintenance request. Please try again.",confirmButtonColor:"#EF4444"})}})}static \u0275fac=function(e){return new(e||o)(q(A),q(B),q(V))};static \u0275cmp=F({type:o,selectors:[["app-requestmaintenance"]],viewQuery:function(e,l){if(e&1&&Y(Mr,5),e&2){let t;T(t=D())&&(l.dt=t.first)}},features:[z([B,A,V])],decls:19,vars:19,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["content",""],["footer",""],["styleClass","mb-6"],["responsiveLayout","stack","breakpoint","960px","dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} requests","styleClass","p-datatable-customers",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","body"],["header","Maintenance Request Details",3,"visibleChange","visible","modal"],["label","New Request","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["severity","secondary","label","Delete Selected","icon","pi pi-trash","outlined","",3,"onClick","disabled"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search maintenance requests...",3,"input"],[2,"width","3rem"],["pSortableColumn","assets_id",2,"min-width","10rem"],["field","assets_id"],["pSortableColumn","RequestDate",2,"min-width","10rem"],["field","RequestDate"],["pSortableColumn","IssueDescription",2,"min-width","15rem"],["field","IssueDescription"],["pSortableColumn","RequestedBy",2,"min-width","10rem"],["field","RequestedBy"],["pSortableColumn","Status",2,"min-width","8rem"],["field","Status"],["pSortableColumn","Priority",2,"min-width","8rem"],["field","Priority"],[2,"min-width","10rem"],[3,"value"],[2,"width","12%","min-width","10rem"],[1,"p-column-title"],[2,"width","20%","min-width","15rem"],[2,"width","10%","min-width","8rem"],[3,"value","severity"],[1,"flex","align-items-center","gap-2"],["icon","pi pi-pencil","pTooltip","Edit Request",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger","pTooltip","Delete Request",3,"click","rounded","outlined"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-12"],["for","assetId",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","assetId","required","","fluid","",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],[1,"col-span-6"],["for","requestDate",1,"block","font-bold","mb-2"],["type","date","pInputText","","id","requestDate","required","","fluid","",3,"ngModelChange","ngModel"],["for","requestedBy",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","requestedBy","required","","fluid","",3,"ngModelChange","ngModel"],["for","issueDescription",1,"block","font-bold","mb-2"],["id","issueDescription","pTextarea","","rows","4","fluid","","required","",3,"ngModelChange","ngModel"],["for","status",1,"block","font-bold","mb-2"],["id","status","optionLabel","label","optionValue","value","placeholder","Select status","fluid","",3,"ngModelChange","ngModel","options"],["for","priority",1,"block","font-bold","mb-2"],["id","priority","optionLabel","label","optionValue","value","placeholder","Select priority","fluid","",3,"ngModelChange","ngModel","options"],[1,"text-red-500"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"]],template:function(e,l){if(e&1){let t=y();g(0,"p-toast"),r(1,"p-toolbar",7),C(2,Vr,2,1,"ng-template",null,0,S)(4,kr,1,0,"ng-template",null,1,S),n(),r(6,"p-table",8,2),x("selectionChange",function(_){return d(t),h(l.selectedRequests,_)||(l.selectedRequests=_),m(_)}),C(8,Ar,6,0,"ng-template",null,3,S)(10,Pr,23,0,"ng-template",null,4,S)(12,Br,25,13,"ng-template",9),n(),r(13,"p-dialog",10),x("visibleChange",function(_){return d(t),h(l.requestDialog,_)||(l.requestDialog=_),m(_)}),C(14,Or,29,12,"ng-template",null,5,S)(16,Ur,2,0,"ng-template",null,6,S),n(),g(18,"p-confirmdialog")}e&2&&(p(6),u("value",l.maintenanceRequests())("rows",10)("columns",l.cols)("paginator",!0)("globalFilterFields",M(15,Tr)),f("selection",l.selectedRequests),u("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",M(16,Dr)),p(7),R(M(17,qr)),f("visible",l.requestDialog),u("modal",!0),p(5),R(M(18,Rr)))},dependencies:[O,G,Te,Se,re,we,Ee,Ie,Me,pe,oe,ae,le,se,de,Z,ce,qe,De,Ve,Re,ue,me,Ae,ke,ye,ve,_e,K,Pe,Xe,be,xe,he,fe,We,ee,Be,Ce,ge],encapsulation:2})};var mi=class o{constructor(i){this.http=i}apiUrl=`${k.apiUrl}/users`;getUserById(i){return this.http.get(`${this.apiUrl}/${i}`)}getUserProfile(){return this.http.get(`${this.apiUrl}/profile/me`)}getAllUsers(){return this.http.get(this.apiUrl)}updateUser(i,e){return this.http.put(`${this.apiUrl}/${i}`,e)}deleteUser(i){return this.http.delete(`${this.apiUrl}/${i}`)}createUser(i){return this.http.post(this.apiUrl,i)}getCampuses(){return this.http.get(`${k.apiUrl}/campuses`)}getDepartments(){return this.http.get(`${k.apiUrl}/departments`)}createCampus(i){return this.http.post(`${k.apiUrl}/campuses`,i)}updateCampus(i,e){return this.http.patch(`${k.apiUrl}/campuses/${i}`,e)}deleteCampus(i){return this.http.delete(`${k.apiUrl}/campuses/${i}`)}createDepartment(i){return this.http.post(`${k.apiUrl}/departments`,i)}updateDepartment(i,e){return this.http.patch(`${k.apiUrl}/departments/${i}`,e)}deleteDepartment(i){return this.http.delete(`${k.apiUrl}/departments/${i}`)}static \u0275fac=function(e){return new(e||o)(Qe(Ze))};static \u0275prov=te({token:o,factory:o.\u0275fac,providedIn:"root"})};export{A as a,mi as b,Ht as c,Jt as d,ci as e,di as f};
