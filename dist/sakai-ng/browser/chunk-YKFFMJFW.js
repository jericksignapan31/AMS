import{a as yt}from"./chunk-OPLTFCZI.js";import{$ as rt,C as Ue,D as Ze,E as Ge,F as Ke,I as Je,J as Ye,O as Xe,R as $e,S as et,V as tt,W as it,Y as nt,Z as ot,_ as at,aa as lt,ba as st,ca as ct,da as mt,ea as pt,ja as dt,ka as ut,u as $,v as qe,w as ze,x as He}from"./chunk-OUL5LSUQ.js";import{Ab as Oe,Ea as oe,Fa as Q,Fb as Re,Ga as F,Gb as We,Ka as J,Na as ke,Oa as Ve,Pa as Y,Qa as ae,V as W,Wa as De,_a as Pe,ab as je,bb as Ne,db as Le,eb as Be,f as ve,fb as Qe,h as G,l as we,oa as Me,p as B,v as Ae,wb as Fe,zb as X}from"./chunk-2RSRXMLT.js";import{$b as P,$c as ne,Ab as h,Bb as C,Cb as f,Gb as U,Hb as T,Lb as b,Mb as c,Na as _e,Nb as he,Nc as I,Oa as z,Ob as be,Oc as Te,Pb as M,Qb as xe,Rb as v,Sa as m,Sb as w,Tc as Ie,Uc as ee,Vb as ye,Wc as K,Xa as D,Y as q,Yb as L,Yc as te,Z as ce,Zb as R,Zc as ie,_b as l,a as se,aa as me,ba as pe,bb as N,cb as ge,cc as y,dc as E,e as xt,ec as S,fb as fe,ga as u,ha as _,hb as g,hc as Z,ic as j,jb as H,jc as Ee,kb as Ce,lc as Se,oa as de,sb as k,ta as ue,tb as V,vc as x,xb as p,yb as a,zb as o}from"./chunk-4NSBCGEI.js";var _t=class t{static \u0275fac=function(e){return new(e||t)};static \u0275cmp=N({type:t,selectors:[["app-documentation"]],decls:68,vars:0,consts:[[1,"card"],[1,"font-semibold","text-2xl","mb-4"],[1,"font-semibold","text-xl","mb-4"],[1,"text-lg","mb-4"],[1,"app-code"],[1,"bg-highlight","px-2","py-1","rounded-border","not-italic","text-base"],[1,"leading-normal","list-disc","pl-8","text-lg","mb-4"],[1,"text-primary","font-medium"]],template:function(e,r){e&1&&(C(0,"div",0)(1,"div",1),l(2,"Documentation"),f(),C(3,"div",2),l(4,"Get Started"),f(),C(5,"p",3),l(6,"Sakai is an application template for Angular and is distributed as a CLI project. Current versions is Angular v20 with PrimeNG v20. In case CLI is not installed already, use the command below to set it up."),f(),C(7,"pre",4)(8,"code"),l(9,"npm install -g @angular/cli"),f()(),C(10,"p",3),l(11,' Once CLI is ready in your system, extract the contents of the zip file distribution, cd to the directory, install the libraries from npm and then execute "ng serve" to run the application in your local environment. '),f(),C(12,"pre",4)(13,"code"),l(14,`git clone https://github.com/primefaces/sakai-ng
npm install
ng serve`),f()(),C(15,"p",3),l(16,"The application should run at "),C(17,"i",5),l(18,"http://localhost:4200/"),f(),l(19," to view the application in your local environment."),f(),C(20,"div",2),l(21,"Structure"),f(),C(22,"p",3),l(23,"Templates consists of a couple folders, demos and layout have been separated so that you can easily identify what is necessary for your application."),f(),C(24,"ul",6)(25,"li")(26,"span",7),l(27,"src/app/layout"),f(),l(28,": Main layout files, needs to be present."),f(),C(29,"li")(30,"span",7),l(31,"src/app/pages"),f(),l(32,": Demo content like Dashboard."),f(),C(33,"li")(34,"span",7),l(35,"src/assets/demo"),f(),l(36,": Assets used in demos"),f(),C(37,"li")(38,"span",7),l(39,"src/assets/layout"),f(),l(40,": SCSS files of the main layout"),f()(),C(41,"div",2),l(42,"Menu"),f(),C(43,"p",3),l(44," Main menu is defined at "),C(45,"span",5),l(46,"src/app/layout/component/app.menu.ts"),f(),l(47," file. Update the "),C(48,"i",5),l(49,"model"),f(),l(50," property to define your own menu items. "),f(),C(51,"div",2),l(52,"Layout Service"),f(),C(53,"p",3)(54,"span",5),l(55,"src/app/layout/service/layout.service.ts"),f(),l(56," is a service that manages layout state changes, including dark mode, PrimeNG theme, menu modes, and states. "),f(),C(57,"div",2),l(58,"Tailwind CSS"),f(),C(59,"p",3),l(60,"The demo pages are developed with Tailwind CSS however the core application shell uses custom CSS."),f(),C(61,"div",2),l(62,"Variables"),f(),C(63,"p",3),l(64," CSS variables used in the template are derived from the applied PrimeNG theme. Customize them through the CSS variables in "),C(65,"span",5),l(66,"src/assets/layout/variables"),f(),l(67,". "),f()())},dependencies:[B],styles:["@media screen and (max-width: 991px){.video-container[_ngcontent-%COMP%]{position:relative;width:100%;height:0;padding-bottom:56.25%}.video-container[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}}"]})};var gt=`
    .p-confirmdialog .p-dialog-content {
        display: flex;
        align-items: center;
        gap: dt('confirmdialog.content.gap');
    }

    .p-confirmdialog-icon {
        color: dt('confirmdialog.icon.color');
        font-size: dt('confirmdialog.icon.size');
        width: dt('confirmdialog.icon.size');
        height: dt('confirmdialog.icon.size');
    }
`;var vt=["header"],wt=["footer"],At=["rejecticon"],It=["accepticon"],Mt=["message"],kt=["icon"],Vt=["headless"],Dt=[[["p-footer"]]],Pt=["p-footer"],jt=(t,n,e)=>({$implicit:t,onAccept:n,onReject:e}),Nt=t=>({$implicit:t});function Lt(t,n){t&1&&U(0)}function Bt(t,n){if(t&1&&g(0,Lt,1,0,"ng-container",7),t&2){let e=c(2);p("ngTemplateOutlet",e.headlessTemplate||e._headlessTemplate)("ngTemplateOutletContext",Se(2,jt,e.confirmation,e.onAccept.bind(e),e.onReject.bind(e)))}}function Qt(t,n){t&1&&g(0,Bt,1,6,"ng-template",null,2,x)}function Ft(t,n){t&1&&U(0)}function Ot(t,n){if(t&1&&g(0,Ft,1,0,"ng-container",8),t&2){let e=c(3);p("ngTemplateOutlet",e.headerTemplate||e._headerTemplate)}}function Rt(t,n){t&1&&g(0,Ot,1,1,"ng-template",null,4,x)}function Wt(t,n){}function qt(t,n){t&1&&g(0,Wt,0,0,"ng-template")}function zt(t,n){if(t&1&&g(0,qt,1,0,null,8),t&2){let e=c(3);p("ngTemplateOutlet",e.iconTemplate||e._iconTemplate)}}function Ht(t,n){if(t&1&&h(0,"i",12),t&2){let e=c(4);R(e.option("icon")),p("ngClass",e.cx("icon"))}}function Ut(t,n){if(t&1&&g(0,Ht,1,3,"i",11),t&2){let e=c(3);p("ngIf",e.option("icon"))}}function Zt(t,n){}function Gt(t,n){t&1&&g(0,Zt,0,0,"ng-template")}function Kt(t,n){if(t&1&&g(0,Gt,1,0,null,7),t&2){let e=c(3);p("ngTemplateOutlet",e.messageTemplate||e._messageTemplate)("ngTemplateOutletContext",Ee(2,Nt,e.confirmation))}}function Jt(t,n){if(t&1&&h(0,"span",13),t&2){let e=c(3);R(e.cx("message")),p("innerHTML",e.option("message"),_e)}}function Yt(t,n){if(t&1&&(k(0,zt,1,1)(1,Ut,1,1,"i",9),k(2,Kt,1,4)(3,Jt,1,3,"span",10)),t&2){let e=c(2);V(e.iconTemplate||e._iconTemplate?0:!e.iconTemplate&&!e._iconTemplate&&!e._messageTemplate&&!e.messageTemplate?1:-1),m(2),V(e.messageTemplate||e._messageTemplate?2:3)}}function Xt(t,n){if(t&1&&(k(0,Rt,2,0),g(1,Yt,4,2,"ng-template",null,3,x)),t&2){let e=c();V(e.headerTemplate||e._headerTemplate?0:-1)}}function $t(t,n){t&1&&U(0)}function ei(t,n){if(t&1&&(be(0),g(1,$t,1,0,"ng-container",8)),t&2){let e=c(2);m(),p("ngTemplateOutlet",e.footerTemplate||e._footerTemplate)}}function ti(t,n){if(t&1&&h(0,"i"),t&2){let e=c(6);R(e.option("rejectIcon"))}}function ii(t,n){if(t&1&&g(0,ti,1,2,"i",17),t&2){let e=c(5);p("ngIf",e.option("rejectIcon"))}}function ni(t,n){}function oi(t,n){t&1&&g(0,ni,0,0,"ng-template")}function ai(t,n){if(t&1&&(k(0,ii,1,1,"i",16),g(1,oi,1,0,null,8)),t&2){let e=c(4);V(e.rejectIcon&&!e.rejectIconTemplate&&!e._rejectIconTemplate?0:-1),m(),p("ngTemplateOutlet",e.rejectIconTemplate||e._rejectIconTemplate)}}function ri(t,n){if(t&1){let e=T();a(0,"p-button",15),b("onClick",function(){u(e);let i=c(3);return _(i.onReject())}),g(1,ai,2,2,"ng-template",null,5,x),o()}if(t&2){let e=c(3);p("label",e.rejectButtonLabel)("styleClass",e.getButtonStyleClass("pcRejectButton","rejectButtonStyleClass"))("ariaLabel",e.option("rejectButtonProps","ariaLabel"))("buttonProps",e.getRejectButtonProps())}}function li(t,n){if(t&1&&h(0,"i"),t&2){let e=c(6);R(e.option("acceptIcon"))}}function si(t,n){if(t&1&&g(0,li,1,2,"i",17),t&2){let e=c(5);p("ngIf",e.option("acceptIcon"))}}function ci(t,n){}function mi(t,n){t&1&&g(0,ci,0,0,"ng-template")}function pi(t,n){if(t&1&&(k(0,si,1,1,"i",16),g(1,mi,1,0,null,8)),t&2){let e=c(4);V(e.acceptIcon&&!e._acceptIconTemplate&&!e.acceptIconTemplate?0:-1),m(),p("ngTemplateOutlet",e.acceptIconTemplate||e._acceptIconTemplate)}}function di(t,n){if(t&1){let e=T();a(0,"p-button",15),b("onClick",function(){u(e);let i=c(3);return _(i.onAccept())}),g(1,pi,2,2,"ng-template",null,5,x),o()}if(t&2){let e=c(3);p("label",e.acceptButtonLabel)("styleClass",e.getButtonStyleClass("pcAcceptButton","acceptButtonStyleClass"))("ariaLabel",e.option("acceptButtonProps","ariaLabel"))("buttonProps",e.getAcceptButtonProps())}}function ui(t,n){if(t&1&&g(0,ri,3,4,"p-button",14)(1,di,3,4,"p-button",14),t&2){let e=c(2);p("ngIf",e.option("rejectVisible")),m(),p("ngIf",e.option("acceptVisible"))}}function _i(t,n){if(t&1&&(k(0,ei,2,1),k(1,ui,2,2)),t&2){let e=c();V(e.footerTemplate||e._footerTemplate?0:-1),m(),V(!e.footerTemplate&&!e._footerTemplate?1:-1)}}var gi={root:"p-confirmdialog",icon:"p-confirmdialog-icon",message:"p-confirmdialog-message",pcRejectButton:"p-confirmdialog-reject-button",pcAcceptButton:"p-confirmdialog-accept-button"},ft=(()=>{class t extends De{name="confirmdialog";theme=gt;classes=gi;static \u0275fac=(()=>{let e;return function(i){return(e||(e=ue(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();var fi=ie([K({transform:"{{transform}}",opacity:0}),ee("{{transition}}",K({transform:"none",opacity:1}))]),Ci=ie([ee("{{transition}}",K({transform:"{{transform}}",opacity:0}))]),le=(()=>{class t extends Qe{confirmationService;zone;header;icon;message;get style(){return this._style}set style(e){this._style=e,this.cd.markForCheck()}styleClass;maskStyleClass;acceptIcon;acceptLabel;closeAriaLabel;acceptAriaLabel;acceptVisible=!0;rejectIcon;rejectLabel;rejectAriaLabel;rejectVisible=!0;acceptButtonStyleClass;rejectButtonStyleClass;closeOnEscape=!0;dismissableMask;blockScroll=!0;rtl=!1;closable=!0;appendTo="body";key;autoZIndex=!0;baseZIndex=0;transitionOptions="150ms cubic-bezier(0, 0, 0.2, 1)";focusTrap=!0;defaultFocus="accept";breakpoints;get visible(){return this._visible}set visible(e){this._visible=e,this._visible&&!this.maskVisible&&(this.maskVisible=!0),this.cd.markForCheck()}get position(){return this._position}set position(e){switch(this._position=e,e){case"topleft":case"bottomleft":case"left":this.transformOptions="translate3d(-100%, 0px, 0px)";break;case"topright":case"bottomright":case"right":this.transformOptions="translate3d(100%, 0px, 0px)";break;case"bottom":this.transformOptions="translate3d(0px, 100%, 0px)";break;case"top":this.transformOptions="translate3d(0px, -100%, 0px)";break;default:this.transformOptions="scale(0.7)";break}}draggable=!0;onHide=new H;footer;_componentStyle=pe(ft);headerTemplate;footerTemplate;rejectIconTemplate;acceptIconTemplate;messageTemplate;iconTemplate;headlessTemplate;templates;_headerTemplate;_footerTemplate;_rejectIconTemplate;_acceptIconTemplate;_messageTemplate;_iconTemplate;_headlessTemplate;confirmation;_visible;_style;maskVisible;dialog;wrapper;contentContainer;subscription;preWidth;_position="center";transformOptions="scale(0.7)";styleElement;id=oe("pn_id_");ariaLabelledBy=this.getAriaLabelledBy();translationSubscription;constructor(e,r){super(),this.confirmationService=e,this.zone=r,this.subscription=this.confirmationService.requireConfirmation$.subscribe(i=>{if(!i){this.hide();return}i.key===this.key&&(this.confirmation=i,Object.keys(i).forEach(d=>{this[d]=i[d]}),this.confirmation.accept&&(this.confirmation.acceptEvent=new H,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new H,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngOnInit(){super.ngOnInit(),this.breakpoints&&this.createStyle(),this.translationSubscription=this.config.translationObserver.subscribe(()=>{this.visible&&this.cd.markForCheck()})}ngAfterContentInit(){this.templates?.forEach(e=>{switch(e.getType()){case"header":this._headerTemplate=e.template;break;case"footer":this._footerTemplate=e.template;break;case"message":this._messageTemplate=e.template;break;case"icon":this._iconTemplate=e.template;break;case"rejecticon":this._rejectIconTemplate=e.template;break;case"accepticon":this._acceptIconTemplate=e.template;break;case"headless":this._headlessTemplate=e.template;break}})}getAriaLabelledBy(){return this.header!==null?oe("pn_id_")+"_header":null}option(e,r){let i=this;if(i.hasOwnProperty(e))return r?i[r]:i[e]}getButtonStyleClass(e,r){let i=this.cx(e),s=this.option(r);return[i,s].filter(Boolean).join(" ")}getElementToFocus(){switch(this.option("defaultFocus")){case"accept":return W(this.dialog.el.nativeElement,".p-confirm-dialog-accept");case"reject":return W(this.dialog.el.nativeElement,".p-confirm-dialog-reject");case"close":return W(this.dialog.el.nativeElement,".p-dialog-header-close");case"none":return null;default:return W(this.dialog.el.nativeElement,".p-confirm-dialog-accept")}}createStyle(){if(!this.styleElement){this.styleElement=this.document.createElement("style"),this.styleElement.type="text/css",this.document.head.appendChild(this.styleElement);let e="";for(let r in this.breakpoints)e+=`
                    @media screen and (max-width: ${r}) {
                        .p-dialog[${this.id}] {
                            width: ${this.breakpoints[r]} !important;
                        }
                    }
                `;this.styleElement.innerHTML=e,Me(this.styleElement,"nonce",this.config?.csp()?.nonce)}}close(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(Q.CANCEL),this.hide(Q.CANCEL)}hide(e){this.onHide.emit(e),this.visible=!1,this.unsubscribeConfirmationEvents(),this.confirmation=null}destroyStyle(){this.styleElement&&(this.document.head.removeChild(this.styleElement),this.styleElement=null)}ngOnDestroy(){this.subscription.unsubscribe(),this.unsubscribeConfirmationEvents(),this.translationSubscription&&this.translationSubscription.unsubscribe(),this.destroyStyle(),super.ngOnDestroy()}onVisibleChange(e){e?this.visible=e:this.close()}onAccept(){this.confirmation&&this.confirmation.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide(Q.ACCEPT)}onReject(){this.confirmation&&this.confirmation.rejectEvent&&this.confirmation.rejectEvent.emit(Q.REJECT),this.hide(Q.REJECT)}unsubscribeConfirmationEvents(){this.confirmation&&(this.confirmation.acceptEvent?.unsubscribe(),this.confirmation.rejectEvent?.unsubscribe())}get acceptButtonLabel(){return this.option("acceptLabel")||this.getAcceptButtonProps()?.label||this.config.getTranslation(ae.ACCEPT)}get rejectButtonLabel(){return this.option("rejectLabel")||this.getRejectButtonProps()?.label||this.config.getTranslation(ae.REJECT)}getAcceptButtonProps(){return this.option("acceptButtonProps")}getRejectButtonProps(){return this.option("rejectButtonProps")}static \u0275fac=function(r){return new(r||t)(D(F),D(Ce))};static \u0275cmp=N({type:t,selectors:[["p-confirmDialog"],["p-confirmdialog"],["p-confirm-dialog"]],contentQueries:function(r,i,s){if(r&1&&(M(s,ke,5),M(s,vt,4),M(s,wt,4),M(s,At,4),M(s,It,4),M(s,Mt,4),M(s,kt,4),M(s,Vt,4),M(s,Ve,4)),r&2){let d;v(d=w())&&(i.footer=d.first),v(d=w())&&(i.headerTemplate=d.first),v(d=w())&&(i.footerTemplate=d.first),v(d=w())&&(i.rejectIconTemplate=d.first),v(d=w())&&(i.acceptIconTemplate=d.first),v(d=w())&&(i.messageTemplate=d.first),v(d=w())&&(i.iconTemplate=d.first),v(d=w())&&(i.headlessTemplate=d.first),v(d=w())&&(i.templates=d)}},inputs:{header:"header",icon:"icon",message:"message",style:"style",styleClass:"styleClass",maskStyleClass:"maskStyleClass",acceptIcon:"acceptIcon",acceptLabel:"acceptLabel",closeAriaLabel:"closeAriaLabel",acceptAriaLabel:"acceptAriaLabel",acceptVisible:[2,"acceptVisible","acceptVisible",I],rejectIcon:"rejectIcon",rejectLabel:"rejectLabel",rejectAriaLabel:"rejectAriaLabel",rejectVisible:[2,"rejectVisible","rejectVisible",I],acceptButtonStyleClass:"acceptButtonStyleClass",rejectButtonStyleClass:"rejectButtonStyleClass",closeOnEscape:[2,"closeOnEscape","closeOnEscape",I],dismissableMask:[2,"dismissableMask","dismissableMask",I],blockScroll:[2,"blockScroll","blockScroll",I],rtl:[2,"rtl","rtl",I],closable:[2,"closable","closable",I],appendTo:"appendTo",key:"key",autoZIndex:[2,"autoZIndex","autoZIndex",I],baseZIndex:[2,"baseZIndex","baseZIndex",Te],transitionOptions:"transitionOptions",focusTrap:[2,"focusTrap","focusTrap",I],defaultFocus:"defaultFocus",breakpoints:"breakpoints",visible:"visible",position:"position",draggable:[2,"draggable","draggable",I]},outputs:{onHide:"onHide"},features:[Z([ft]),fe],ngContentSelectors:Pt,decls:6,vars:14,consts:[["dialog",""],["footer",""],["headless",""],["content",""],["header",""],["icon",""],["role","alertdialog",3,"visibleChange","visible","closable","styleClass","modal","header","closeOnEscape","blockScroll","appendTo","position","dismissableMask","draggable"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[4,"ngTemplateOutlet"],[3,"ngClass","class"],[3,"class","innerHTML"],[3,"ngClass","class",4,"ngIf"],[3,"ngClass"],[3,"innerHTML"],[3,"label","styleClass","ariaLabel","buttonProps","onClick",4,"ngIf"],[3,"onClick","label","styleClass","ariaLabel","buttonProps"],[3,"class"],[3,"class",4,"ngIf"]],template:function(r,i){if(r&1){let s=T();he(Dt),a(0,"p-dialog",6,0),b("visibleChange",function(bt){return u(s),_(i.onVisibleChange(bt))}),k(2,Qt,2,0)(3,Xt,3,1),g(4,_i,2,2,"ng-template",null,1,x),o()}r&2&&(L(i.style),p("visible",i.visible)("closable",i.option("closable"))("styleClass",i.cn(i.cx("root"),i.styleClass))("modal",!0)("header",i.option("header"))("closeOnEscape",i.option("closeOnEscape"))("blockScroll",i.option("blockScroll"))("appendTo",i.option("appendTo"))("position",i.position)("dismissableMask",i.dismissableMask)("draggable",i.draggable),m(2),V(i.headlessTemplate||i._headlessTemplate?2:3))},dependencies:[B,ve,G,we,X,$,Y],encapsulation:2,data:{animation:[Ie("animation",[te("void => visible",[ne(fi)]),te("visible => void",[ne(Ci)])])]},changeDetection:0})}return t})(),Ct=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=ge({type:t});static \u0275inj=ce({imports:[le,Y,Y]})}return t})();var O=class t{constructor(n){this.http=n}apiUrl="http://localhost:3001/assets";getAssets(){return this.http.get(this.apiUrl)}getAsset(n){return this.http.get(`${this.apiUrl}/${n}`)}createAsset(n){return this.http.post(this.apiUrl,n)}updateAsset(n,e){return this.http.put(`${this.apiUrl}/${n}`,e)}deleteAsset(n){return this.http.delete(`${this.apiUrl}/${n}`)}static \u0275fac=function(e){return new(e||t)(me(Ae))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var A=xt(yt());var xi=["dt"],yi=()=>["PropertyNo","AssetName","Category","Status_id"],Ei=()=>({"min-width":"100rem"}),Si=()=>[10,20,30],Ti=()=>({width:"800px"}),vi=()=>({width:"500px"}),wi=()=>({width:"450px"});function Ai(t,n){if(t&1){let e=T();a(0,"p-button",12),b("onClick",function(){u(e);let i=c();return _(i.openNew())}),o(),a(1,"p-button",13),b("onClick",function(){u(e);let i=c();return _(i.deleteSelectedAssets())}),o()}if(t&2){let e=c();m(),p("disabled",!e.selectedAssets||!e.selectedAssets.length)}}function Ii(t,n){if(t&1){let e=T();a(0,"p-button",14),b("onClick",function(){u(e);let i=c();return _(i.exportCSV())}),o()}}function Mi(t,n){if(t&1){let e=T();a(0,"div",15)(1,"h5",16),l(2,"Asset Management System"),o(),a(3,"p-iconfield"),h(4,"p-inputicon",17),a(5,"input",18),b("input",function(i){u(e);let s=c(),d=ye(7);return _(s.onGlobalFilter(d,i))}),o()()()}}function ki(t,n){t&1&&(a(0,"tr")(1,"th",19),h(2,"p-tableHeaderCheckbox"),o(),a(3,"th",20),l(4," Property No "),h(5,"p-sortIcon",21),o(),a(6,"th",22),l(7," Asset Name "),h(8,"p-sortIcon",23),o(),a(9,"th",24),l(10," Category "),h(11,"p-sortIcon",25),o(),a(12,"th",26),l(13," Found Cluster "),h(14,"p-sortIcon",27),o(),a(15,"th",28),l(16," Issued To "),h(17,"p-sortIcon",29),o(),a(18,"th",30),l(19," Status "),h(20,"p-sortIcon",31),o(),a(21,"th",32),l(22," Date Acquired "),h(23,"p-sortIcon",33),o(),a(24,"th",34),l(25,"QR Code"),o(),a(26,"th",35),l(27,"Actions"),o()())}function Vi(t,n){if(t&1){let e=T();a(0,"img",42),b("click",function(){u(e);let i=c().$implicit,s=c();return _(s.viewQrCode(i.QrCode))}),o()}if(t&2){let e=c().$implicit;p("src",e.QrCode,z)}}function Di(t,n){t&1&&(a(0,"span",43),l(1,"No QR Code"),o())}function Pi(t,n){if(t&1){let e=T();a(0,"tr")(1,"td",19),h(2,"p-tableCheckbox",36),o(),a(3,"td"),l(4),o(),a(5,"td"),l(6),o(),a(7,"td"),l(8),o(),a(9,"td"),l(10),o(),a(11,"td"),l(12),o(),a(13,"td"),h(14,"p-tag",37),o(),a(15,"td"),l(16),o(),a(17,"td"),g(18,Vi,1,1,"img",38)(19,Di,2,0,"span",39),o(),a(20,"td")(21,"p-button",40),b("click",function(){let i=u(e).$implicit,s=c();return _(s.editAsset(i))}),o(),a(22,"p-button",41),b("click",function(){let i=u(e).$implicit,s=c();return _(s.deleteAsset(i))}),o()()()}if(t&2){let e=n.$implicit,r=c();m(2),p("value",e),m(2),P(e.PropertyNo),m(2),P(e.AssetName),m(2),P(e.Category),m(2),P(e.FoundCluster),m(2),P(e.IssuedTo),m(2),p("value",e.Status_id)("severity",r.getStatusSeverity(e.Status_id)),m(2),P(e.DateAcquired),m(2),p("ngIf",e.QrCode),m(),p("ngIf",!e.QrCode),m(2),p("rounded",!0)("outlined",!0),m(),p("rounded",!0)("outlined",!0)}}function ji(t,n){t&1&&(a(0,"small",75),l(1,"Property No is required."),o())}function Ni(t,n){t&1&&(a(0,"small",75),l(1,"Asset Name is required."),o())}function Li(t,n){if(t&1){let e=T();a(0,"div",76)(1,"img",77),b("click",function(){u(e);let i=c(2);return _(i.viewQrCode(i.asset.QrCode))}),o(),a(2,"p-button",78),b("click",function(){u(e);let i=c(2);return _(i.removeQrCode())}),o()()}if(t&2){let e=c(2);m(),p("src",e.asset.QrCode,z),m(),p("rounded",!0)}}function Bi(t,n){if(t&1){let e=T();a(0,"div",44)(1,"div",45)(2,"label",46),l(3,"Property No"),o(),a(4,"input",47),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.PropertyNo,i)||(s.asset.PropertyNo=i),_(i)}),o(),g(5,ji,2,0,"small",48),o(),a(6,"div",45)(7,"label",49),l(8,"Category"),o(),a(9,"p-select",50),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.Category,i)||(s.asset.Category=i),_(i)}),o()(),a(10,"div",51)(11,"label",52),l(12,"Asset Name"),o(),a(13,"input",53),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.AssetName,i)||(s.asset.AssetName=i),_(i)}),o(),g(14,Ni,2,0,"small",48),o(),a(15,"div",45)(16,"label",54),l(17,"Found Cluster"),o(),a(18,"input",55),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.FoundCluster,i)||(s.asset.FoundCluster=i),_(i)}),o()(),a(19,"div",45)(20,"label",56),l(21,"Location ID"),o(),a(22,"input",57),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.Location_id,i)||(s.asset.Location_id=i),_(i)}),o()(),a(23,"div",45)(24,"label",58),l(25,"Supplier ID"),o(),a(26,"input",59),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.Supplier_id,i)||(s.asset.Supplier_id=i),_(i)}),o()(),a(27,"div",45)(28,"label",60),l(29,"Program ID"),o(),a(30,"input",61),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.Program_id,i)||(s.asset.Program_id=i),_(i)}),o()(),a(31,"div",51)(32,"label",62),l(33,"Purpose"),o(),a(34,"textarea",63),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.Purpose,i)||(s.asset.Purpose=i),_(i)}),o()(),a(35,"div",45)(36,"label",64),l(37,"Date Acquired"),o(),a(38,"input",65),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.DateAcquired,i)||(s.asset.DateAcquired=i),_(i)}),o()(),a(39,"div",45)(40,"label",66),l(41,"Issued To"),o(),a(42,"input",67),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.IssuedTo,i)||(s.asset.IssuedTo=i),_(i)}),o()(),a(43,"div",45)(44,"label",68),l(45,"Status"),o(),a(46,"p-select",69),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.Status_id,i)||(s.asset.Status_id=i),_(i)}),o()(),a(47,"div",45)(48,"label",70),l(49,"Active"),o(),a(50,"p-select",71),S("ngModelChange",function(i){u(e);let s=c();return E(s.asset.Active,i)||(s.asset.Active=i),_(i)}),o()(),a(51,"div",51)(52,"label",72),l(53,"QR Code Image"),o(),a(54,"p-fileupload",73),b("onSelect",function(i){u(e);let s=c();return _(s.onQrCodeSelect(i))}),o(),g(55,Li,3,2,"div",74),o()()}if(t&2){let e=c();m(4),y("ngModel",e.asset.PropertyNo),m(),p("ngIf",e.submitted&&!e.asset.PropertyNo),m(4),y("ngModel",e.asset.Category),p("options",e.categories),m(4),y("ngModel",e.asset.AssetName),m(),p("ngIf",e.submitted&&!e.asset.AssetName),m(4),y("ngModel",e.asset.FoundCluster),m(4),y("ngModel",e.asset.Location_id),m(4),y("ngModel",e.asset.Supplier_id),m(4),y("ngModel",e.asset.Program_id),m(4),y("ngModel",e.asset.Purpose),m(4),y("ngModel",e.asset.DateAcquired),m(4),y("ngModel",e.asset.IssuedTo),m(4),y("ngModel",e.asset.Status_id),p("options",e.statuses),m(4),y("ngModel",e.asset.Active),p("options",e.activeOptions),m(4),p("maxFileSize",1e6)("auto",!0),m(),p("ngIf",e.asset.QrCode)}}function Qi(t,n){if(t&1){let e=T();a(0,"p-button",79),b("click",function(){u(e);let i=c();return _(i.hideDialog())}),o(),a(1,"p-button",80),b("click",function(){u(e);let i=c();return _(i.saveAsset())}),o()}}function Fi(t,n){if(t&1&&(a(0,"div",81),h(1,"img",82),o()),t&2){let e=c();m(),p("src",e.selectedQrCode,z)}}function Oi(t,n){if(t&1){let e=T();a(0,"p-button",83),b("click",function(){u(e);let i=c();return _(i.closeQrCodeViewer())}),o(),a(1,"p-button",84),b("click",function(){u(e);let i=c();return _(i.downloadQrCode())}),o()}}var ht=class t{constructor(n,e,r){this.assetService=n;this.messageService=e;this.confirmationService=r}assetDialog=!1;qrCodeViewerDialog=!1;assets=de([]);asset={};selectedQrCode="";selectedAssets=null;submitted=!1;statuses=[];categories=[];activeOptions=[];dt;exportColumns;cols;exportCSV(){this.dt.exportCSV()}ngOnInit(){this.loadAssets(),this.initializeDropdowns()}loadAssets(){this.assetService.getAssets().subscribe({next:n=>{this.assets.set(n)},error:n=>{console.error("Error loading assets:",n),A.default.fire({icon:"error",title:"Error",text:"Failed to load assets. Please try again.",confirmButtonColor:"#EF4444"})}})}initializeDropdowns(){this.statuses=[{label:"ACTIVE",value:"ACTIVE"},{label:"MAINTENANCE",value:"MAINTENANCE"},{label:"DISPOSED",value:"DISPOSED"},{label:"LOST",value:"LOST"}],this.categories=[{label:"IT Equipment",value:"IT Equipment"},{label:"Furniture",value:"Furniture"},{label:"Vehicle",value:"Vehicle"},{label:"Office Supplies",value:"Office Supplies"},{label:"Tools",value:"Tools"}],this.activeOptions=[{label:"Yes",value:"Y"},{label:"No",value:"N"}],this.cols=[{field:"PropertyNo",header:"Property No"},{field:"AssetName",header:"Asset Name"},{field:"Category",header:"Category"},{field:"FoundCluster",header:"Found Cluster"},{field:"IssuedTo",header:"Issued To"},{field:"Status_id",header:"Status"},{field:"DateAcquired",header:"Date Acquired"}],this.exportColumns=this.cols.map(n=>({title:n.header,dataKey:n.field}))}onGlobalFilter(n,e){n.filterGlobal(e.target.value,"contains")}openNew(){this.asset={},this.submitted=!1,this.assetDialog=!0}editAsset(n){this.asset=se({},n),this.assetDialog=!0}deleteSelectedAssets(){!this.selectedAssets||this.selectedAssets.length===0||this.confirmationService.confirm({message:"Are you sure you want to delete the selected assets?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{let n=this.selectedAssets.map(e=>this.assetService.deleteAsset(e.id).toPromise());Promise.all(n).then(()=>{this.loadAssets(),this.selectedAssets=null,A.default.fire({icon:"success",title:"Success!",text:"Assets deleted successfully",timer:2e3,showConfirmButton:!1})}).catch(e=>{console.error("Error deleting assets:",e),A.default.fire({icon:"error",title:"Error",text:"Failed to delete assets. Please try again.",confirmButtonColor:"#EF4444"})})}})}hideDialog(){this.assetDialog=!1,this.submitted=!1}deleteAsset(n){this.confirmationService.confirm({message:"Are you sure you want to delete "+n.AssetName+"?",header:"Confirm",icon:"pi pi-exclamation-triangle",accept:()=>{this.assetService.deleteAsset(n.id).subscribe({next:()=>{this.loadAssets(),this.asset={},A.default.fire({icon:"success",title:"Success!",text:"Asset deleted successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error deleting asset:",e),A.default.fire({icon:"error",title:"Error",text:"Failed to delete asset. Please try again.",confirmButtonColor:"#EF4444"})}})}})}generatePropertyNo(){let n="PROP",e=new Date().getTime().toString().slice(-6);return n+e}generateQrCode(){let n=new Date().getTime().toString();return"QR"+Math.random().toString(36).substring(2,8).toUpperCase()+n.slice(-4)}getStatusSeverity(n){switch(n){case"ACTIVE":return"success";case"MAINTENANCE":return"warn";case"DISPOSED":return"danger";case"LOST":return"danger";default:return"info"}}onQrCodeSelect(n){let e=n.files[0];if(e){if(!e.type.startsWith("image/")){A.default.fire({icon:"error",title:"Invalid File Type",text:"Please select an image file for QR Code.",confirmButtonColor:"#EF4444"});return}if(e.size>1e6){A.default.fire({icon:"error",title:"File Too Large",text:"QR Code image must be less than 1MB.",confirmButtonColor:"#EF4444"});return}let r=new FileReader;r.onload=i=>{this.asset.QrCode=i.target.result},r.readAsDataURL(e)}}removeQrCode(){this.asset.QrCode=""}viewQrCode(n){n&&(this.selectedQrCode=n,this.qrCodeViewerDialog=!0)}closeQrCodeViewer(){this.qrCodeViewerDialog=!1,this.selectedQrCode=""}downloadQrCode(){if(this.selectedQrCode){let n=document.createElement("a");n.href=this.selectedQrCode,n.download=`qr-code-${new Date().getTime()}.png`,document.body.appendChild(n),n.click(),document.body.removeChild(n),A.default.fire({icon:"success",title:"Downloaded!",text:"QR Code image has been downloaded.",timer:2e3,showConfirmButton:!1})}}saveAsset(){if(this.submitted=!0,!this.asset.PropertyNo?.trim()||!this.asset.AssetName?.trim()){A.default.fire({icon:"warning",title:"Missing Information",text:"Property No and Asset Name are required fields.",confirmButtonColor:"#3B82F6"});return}this.asset.id||(this.asset.PropertyNo=this.generatePropertyNo()),(this.asset.id?this.assetService.updateAsset(this.asset.id,this.asset):this.assetService.createAsset(this.asset)).subscribe({next:()=>{this.loadAssets(),this.assetDialog=!1,this.asset={},this.submitted=!1,A.default.fire({icon:"success",title:"Success!",text:this.asset.id?"Asset updated successfully":"Asset created successfully",timer:2e3,showConfirmButton:!1})},error:e=>{console.error("Error saving asset:",e),A.default.fire({icon:"error",title:"Error",text:"Failed to save asset. Please try again.",confirmButtonColor:"#EF4444"})}})}static \u0275fac=function(e){return new(e||t)(D(O),D(J),D(F))};static \u0275cmp=N({type:t,selectors:[["app-crud"]],viewQuery:function(e,r){if(e&1&&xe(xi,5),e&2){let i;v(i=w())&&(r.dt=i.first)}},features:[Z([J,O,F])],decls:25,vars:26,consts:[["start",""],["end",""],["dt",""],["caption",""],["header",""],["body",""],["content",""],["footer",""],["styleClass","mb-6"],["dataKey","id","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} assets",3,"selectionChange","value","rows","columns","paginator","globalFilterFields","tableStyle","selection","rowHover","showCurrentPageReport","rowsPerPageOptions"],["header","Asset Details",3,"visibleChange","visible","modal"],["header","QR Code Viewer",3,"visibleChange","visible","modal"],["label","New Asset","icon","pi pi-plus","severity","secondary",1,"mr-2",3,"onClick"],["severity","secondary","label","Delete Selected","icon","pi pi-trash","outlined","",3,"onClick","disabled"],["label","Export","icon","pi pi-upload","severity","secondary",3,"onClick"],[1,"flex","items-center","justify-between"],[1,"m-0"],["styleClass","pi pi-search"],["pInputText","","type","text","placeholder","Search assets...",3,"input"],[2,"width","3rem"],["pSortableColumn","PropertyNo",2,"min-width","10rem"],["field","PropertyNo"],["pSortableColumn","AssetName",2,"min-width","15rem"],["field","AssetName"],["pSortableColumn","Category",2,"min-width","10rem"],["field","Category"],["pSortableColumn","FoundCluster",2,"min-width","12rem"],["field","FoundCluster"],["pSortableColumn","IssuedTo",2,"min-width","12rem"],["field","IssuedTo"],["pSortableColumn","Status_id",2,"min-width","10rem"],["field","Status_id"],["pSortableColumn","DateAcquired",2,"min-width","10rem"],["field","DateAcquired"],[2,"min-width","8rem"],[2,"min-width","10rem"],[3,"value"],[3,"value","severity"],["alt","QR Code","class","w-8 h-8 rounded border cursor-pointer hover:opacity-75 transition-opacity","pTooltip","Click to view QR Code",3,"src","click",4,"ngIf"],["class","text-muted-color text-sm",4,"ngIf"],["icon","pi pi-pencil",1,"mr-2",3,"click","rounded","outlined"],["icon","pi pi-trash","severity","danger",3,"click","rounded","outlined"],["alt","QR Code","pTooltip","Click to view QR Code",1,"w-8","h-8","rounded","border","cursor-pointer","hover:opacity-75","transition-opacity",3,"click","src"],[1,"text-muted-color","text-sm"],[1,"grid","grid-cols-12","gap-4"],[1,"col-span-6"],["for","propertyNo",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","propertyNo","required","","autofocus","","fluid","",3,"ngModelChange","ngModel"],["class","text-red-500",4,"ngIf"],["for","category",1,"block","font-bold","mb-2"],["inputId","category","optionLabel","label","optionValue","value","placeholder","Select Category","fluid","",3,"ngModelChange","ngModel","options"],[1,"col-span-12"],["for","assetName",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","assetName","required","","fluid","",3,"ngModelChange","ngModel"],["for","foundCluster",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","foundCluster","fluid","",3,"ngModelChange","ngModel"],["for","locationId",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","locationId","fluid","",3,"ngModelChange","ngModel"],["for","supplierId",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","supplierId","fluid","",3,"ngModelChange","ngModel"],["for","programId",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","programId","fluid","",3,"ngModelChange","ngModel"],["for","purpose",1,"block","font-bold","mb-2"],["id","purpose","pTextarea","","rows","3","fluid","",3,"ngModelChange","ngModel"],["for","dateAcquired",1,"block","font-bold","mb-2"],["type","date","pInputText","","id","dateAcquired","fluid","",3,"ngModelChange","ngModel"],["for","issuedTo",1,"block","font-bold","mb-2"],["type","text","pInputText","","id","issuedTo","fluid","",3,"ngModelChange","ngModel"],["for","status",1,"block","font-bold","mb-2"],["inputId","status","optionLabel","label","optionValue","value","placeholder","Select Status","fluid","",3,"ngModelChange","ngModel","options"],["for","active",1,"block","font-bold","mb-2"],["inputId","active","optionLabel","label","optionValue","value","placeholder","Select","fluid","",3,"ngModelChange","ngModel","options"],["for","qrCode",1,"block","font-bold","mb-2"],["mode","basic","name","qrCode","accept","image/*","chooseLabel","Choose QR Code Image",3,"onSelect","maxFileSize","auto"],["class","mt-3",4,"ngIf"],[1,"text-red-500"],[1,"mt-3"],["alt","QR Code","pTooltip","Click to view QR Code",1,"max-w-32","max-h-32","border","rounded","cursor-pointer","hover:opacity-75","transition-opacity",3,"click","src"],["icon","pi pi-times","severity","danger","size","small","pTooltip","Remove QR Code",1,"ml-2",3,"click","rounded"],["label","Cancel","icon","pi pi-times","text","",3,"click"],["label","Save","icon","pi pi-check",3,"click"],[1,"text-center"],["alt","QR Code",1,"max-w-full","h-auto","border","rounded","shadow-lg",3,"src"],["label","Close","icon","pi pi-times",3,"click"],["label","Download","icon","pi pi-download","severity","secondary",3,"click"]],template:function(e,r){if(e&1){let i=T();h(0,"p-toast"),a(1,"p-toolbar",8),g(2,Ai,2,1,"ng-template",null,0,x)(4,Ii,1,0,"ng-template",null,1,x),o(),a(6,"p-table",9,2),S("selectionChange",function(d){return u(i),E(r.selectedAssets,d)||(r.selectedAssets=d),_(d)}),g(8,Mi,6,0,"ng-template",null,3,x)(10,ki,28,0,"ng-template",null,4,x)(12,Pi,23,15,"ng-template",null,5,x),o(),a(14,"p-dialog",10),S("visibleChange",function(d){return u(i),E(r.assetDialog,d)||(r.assetDialog=d),_(d)}),g(15,Bi,56,20,"ng-template",null,6,x)(17,Qi,2,0,"ng-template",null,7,x),o(),a(19,"p-dialog",11),S("visibleChange",function(d){return u(i),E(r.qrCodeViewerDialog,d)||(r.qrCodeViewerDialog=d),_(d)}),g(20,Fi,2,1,"ng-template",null,6,x)(22,Oi,2,0,"ng-template",null,7,x),o(),h(24,"p-confirmdialog")}e&2&&(m(6),p("value",r.assets())("rows",10)("columns",r.cols)("paginator",!0)("globalFilterFields",j(20,yi))("tableStyle",j(21,Ei)),y("selection",r.selectedAssets),p("rowHover",!0)("showCurrentPageReport",!0)("rowsPerPageOptions",j(22,Si)),m(8),L(j(23,Ti)),y("visible",r.assetDialog),p("modal",!0),m(5),L(j(24,vi)),y("visible",r.qrCodeViewerDialog),p("modal",!0),m(5),L(j(25,wi)))},dependencies:[B,G,nt,Xe,$e,et,tt,it,Be,Pe,je,Le,Ne,Oe,X,Fe,at,ot,lt,rt,We,Re,ct,st,Ye,Je,qe,$,pt,mt,Ke,Ge,Ze,Ue,Ct,le,ut,dt,He,ze],encapsulation:2})};export{O as a,_t as b,ht as c};
